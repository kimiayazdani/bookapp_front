[{"/home/kim/Desktop/bookapp/src/index.js":"1","/home/kim/Desktop/bookapp/src/App.js":"2","/home/kim/Desktop/bookapp/src/reportWebVitals.js":"3","/home/kim/Desktop/bookapp/src/Routes.js":"4","/home/kim/Desktop/bookapp/src/Pages/Home.js":"5","/home/kim/Desktop/bookapp/src/Pages/AdAll.js":"6","/home/kim/Desktop/bookapp/src/Pages/AdForm.js":"7","/home/kim/Desktop/bookapp/src/Pages/AdDetails.js":"8","/home/kim/Desktop/bookapp/src/Pages/deleteAd.js":"9","/home/kim/Desktop/bookapp/src/Pages/SignUp.js":"10","/home/kim/Desktop/bookapp/src/Pages/SignIn.js":"11","/home/kim/Desktop/bookapp/src/SideMenu.js":"12","/home/kim/Desktop/bookapp/src/Pages/AdVer.js":"13","/home/kim/Desktop/bookapp/src/Pages/Profile.js":"14","/home/kim/Desktop/bookapp/src/Pages/Profile_else.js":"15","/home/kim/Desktop/bookapp/src/Pages/ChatUsers.js":"16","/home/kim/Desktop/bookapp/src/Pages/ChatPage.js":"17"},{"size":501,"mtime":1609784285447,"results":"18","hashOfConfig":"19"},{"size":2923,"mtime":1609784285447,"results":"20","hashOfConfig":"19"},{"size":362,"mtime":1609784285447,"results":"21","hashOfConfig":"19"},{"size":3164,"mtime":1609869301613,"results":"22","hashOfConfig":"19"},{"size":3384,"mtime":1609784285447,"results":"23","hashOfConfig":"19"},{"size":5346,"mtime":1609865110452,"results":"24","hashOfConfig":"19"},{"size":8208,"mtime":1609784285447,"results":"25","hashOfConfig":"19"},{"size":10239,"mtime":1609870609754,"results":"26","hashOfConfig":"19"},{"size":4483,"mtime":1609784285447,"results":"27","hashOfConfig":"19"},{"size":8985,"mtime":1609784285447,"results":"28","hashOfConfig":"19"},{"size":3989,"mtime":1609784285447,"results":"29","hashOfConfig":"19"},{"size":3063,"mtime":1609924411996,"results":"30","hashOfConfig":"19"},{"size":6870,"mtime":1609784285447,"results":"31","hashOfConfig":"19"},{"size":6961,"mtime":1609784285447,"results":"32","hashOfConfig":"19"},{"size":7521,"mtime":1610287465586,"results":"33","hashOfConfig":"19"},{"size":4971,"mtime":1610286782755,"results":"34","hashOfConfig":"19"},{"size":8160,"mtime":1610287936126,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"1jz0gbp",{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"38"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"38"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"38"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"38"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"38"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"38"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"38"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"38"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":1,"source":"69","usedDeprecatedRules":"38"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"38"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"38"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"78","messages":"79","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"38"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/kim/Desktop/bookapp/src/index.js",[],["83","84"],"/home/kim/Desktop/bookapp/src/App.js",["85"],"import logo from './logo.svg';\nimport './App.css';\nimport Routes from './Routes';\nimport React, { Component } from \"react\";\nimport {Helmet} from 'react-helmet';\nimport axios from 'axios'\n\nexport default class App extends Component{\n\n\tconstructor (props) {\n\t\tsuper(props);\t\n\t\tthis.state = {\n\t\t\tlogged_in: localStorage.getItem('token') ? true : false,\n\t\t\tusername: '',\n\t\t}\n\t\tconsole.log(this.state.logged_in);\n\t};\n\n\tis_loggedin() {\n\t\treturn localStorage.getItem('token') ? true : false\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.setState({logged_in: true});\n\t\tif (this.state.logged_in) {\n\t\t\tfetch('http://localhost:8000/curuser/', {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `JWT ${localStorage.getItem('token')} `\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => res.json())\n\t\t\t.then(json=>{\n\t\t\t\tthis.setState({username:json.username});\n\t\t\t});\n\n\t\t};\n\t};\n\n\thandle_login(users, passs) {\n\t\t\n\n\t  axios \n\t      .post(\"http://localhost:8000/api/asknima\", { \n\t          user: users,\n\t          pass: passs,\n\t      }) \n        .then((res) => { \n        \tlocalStorage.setItem('token', res.token);\n        \tthis.setState({\n        \t\tlogged_in: true,\n        \t\tusername: res.user.username\n        \t});\n            return res;\n            })\n\t      .catch((err) => {\n\t      \t\n\t        return err;\n\t        \n\t      }); \n\n\t}\n\n\thandle_logout() {\n\t\tlocalStorage.removeItem('token');\n\t\tthis.setState({logged_in:false, username:''});\n\t}\n\n\thandle_refresh() {\n\t\taxios.post(\"http://localhost:8000/api/token/refresh\", { \n\t          refresh: localStorage.getItem('refresh_token')\n\t      }).then((res) => {localStorage.setItem('token', res.access)})\n\t}\n\n\n\trender() {\n  return (\n     <div className=\"App\">\n     \t<Helmet>\n\t     \t<meta charset=\"utf-8\"/>\n\t\t    <meta content=\"IE=edge,chrome=1\" http-equiv=\"X-UA-Compatible\"/>\n\t\t    <meta\n\t\t            name=\"viewport\"\n\t\t            content=\"width=device-width, initial-scale=1, maximum-scale=2, user-scalable=no\"\n\t\t    />\n\t\t    <meta\n\t\t            name=\"description\"\n\t\t            content=\"Semantic-UI-Forest, collection of design, themes and templates for Semantic-UI.\"\n\t\t    />\n\t\t    <meta name=\"keywords\" content=\"Semantic-UI, Theme, Design, Template\"/>\n\t\t    <meta name=\"author\" content=\"PPType\"/>\n\t\t    <meta name=\"theme-color\" content=\"#ffffff\"/>\n\t\t    <title> ketabbaz </title>\n\t\t    <link\n\t\t            rel=\"stylesheet\"\n\t\t            href=\"https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css\"\n\t\t            type=\"text/css\"\n\t\t    />\n\t\t    <link rel=\"stylesheet\" type=\"text/css\" href=\"./public/css/base.css\"/>\n\t\t    <link rel=\"stylesheet\" type=\"text/css\" href=\"./public/css/fontiran.css\"/>\n\t\t    <link rel=\"stylesheet\" type=\"text/css\" href=\"./public/css/fonts.css\"/>\n\t\t    <link rel=\"stylesheet\" type=\"text/css\" href=\"./public/css/semantic.css\"/>\n     \t</Helmet>\n      \t<Routes logged_in={this.state.logged_in? \"t\": \"f\"} is_loggedin={this.is_loggedin} handle_refresh={this.handle_refresh} />\n    </div>\n  )};\n}\n\n","/home/kim/Desktop/bookapp/src/reportWebVitals.js",[],"/home/kim/Desktop/bookapp/src/Routes.js",[],"/home/kim/Desktop/bookapp/src/Pages/Home.js",["86","87","88"],"import React, { Component } from \"react\";\nimport axios from \"axios\"; \n\nimport \"./Home.css\"\nimport SideMenu from './../SideMenu';\nclass Login extends Component {\n\nrender() {\n return (\n  <div className=\"App\">\n  \t<SideMenu classIn={\"Home\"} logged_in={this.props.logged_in}/>\n      <div class=\"pusher\" dir=\"rtl\">\n\n        <div class=\"ui inverted vertical masthead center aligned segment\" dir=\"rtl\">\n            <div class=\"ui text container\" dir=\"rtl\">\n                <h1 class=\"ui inverted header\">\n                     سامانه‌ی تبادل کتاب هوشمند \n                </h1>\n                <h2>دیگر نگران منابع درسی خود نباشید!</h2>\n                <br />\n                <a target=\"_blank\" href=\"/ad/\" class=\"ui huge primary button\">\n                    <i class=\"right arrow icon\"></i>\n                    مشاهده‌ی آگهی‌ها\n                </a>\n\n            </div>\n        </div>\n\n        <div class=\"ui vertical stripe segment\" dir=\"rtl\">\n            <div class=\"ui middle aligned stackable grid container\" dir=\"rtl\">\n                <div class=\"row\" dir=\"rtl\">\n                    <div class=\"eight wide column\" dir=\"rtl\">\n                        <h3 class=\"ui header\" style={{textAlign:\"right\"}}>کتاب‌های درسی قدیمی خود را بفروشید</h3>\n                        <p style={{textAlign:\"right\"}}>دیگر لازم نیست نگران خاک‌خوردن کتاب طراحی الگوریم خود باشید... آن را به یک دانشجوی فلک‌زده‌ی دیگر بفروشید!</p>\n                        <h3 class=\"ui header\" style={{textAlign:\"right\"}}>کتاب موردنیاز خود را ارزان بخرید</h3>\n                        <p style={{textAlign:\"right\"}}>بله، دیگر لازم نیست هزینه‌های نجومی برای کتاب‌های درسی خود بدهید یا کل میدان انقلاب را گز کنید!</p>\n                    </div>\n                    <div class=\"six wide left floated column\">\n                        <img src=\"images/landing-left.jpg\" class=\"ui huge bordered rounded image\" />\n                    </div>\n                </div>\n                <div class=\"row\" dir=\"rtl\">\n                    <div class=\"center aligned column\" dir=\"rtl\">\n                        <a target=\"_blank\" href=\"/ad/new\" class=\"ui huge button\">ثبت آگهی</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"ui vertical stripe quote segment\" dir=\"rtl\">\n            <div class=\"ui equal width stackable internally celled grid\" dir=\"rtl\">\n                <div class=\"center aligned row\" dir=\"rtl\">\n                    <div class=\"column\" dir=\"rtl\">\n                        <h3>\"دیگر نگران شروع ترم جدید نیستم\"</h3>\n                        <p>- قال کلیه‌ی دانشجویان کشور</p>\n                    </div>\n                    <div class=\"column\" dir=\"rtl\">\n                        <h3>\"دیگه فقط نگران نمره‌هامم\"</h3>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <img style={{height: 500 + 'px', objectFit: 'cover'}} class=\"ui fluid image\" src=\"images/colored-books.webp\" />\n    </div>\n\n    <div class=\"clearfix\"></div>\n  </div>\n  );\n}\n\n}\n\nexport default Login;\n\n\n\n\n","/home/kim/Desktop/bookapp/src/Pages/AdAll.js",["89","90","91","92","93","94","95","96"],"import React, {Component} from \"react\";\nimport axios from \"axios\";\nimport SideMenu from './../SideMenu';\nimport { Redirect } from 'react-router';\n// import './AddAll.css'\nimport 'semantic-ui-css/semantic.min.css';\n\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Segment,\n  Checkbox\n} from \"semantic-ui-react\";\n\n\nexport default class AdAll extends Component {\n    state = {\n         lists: [\n             {\n            id: 1,\n            title: \"طراحی الگوریتم\",\n            author: [\"ریچارد نیپولیتان\"],\n            image: \"\",\n            description: \"قیمت بسیار ارزان - ویرایش چهارم\",\n            sell: \"buy\",\n            price: 0\n\n        },\n            {\n                id: 2,\n                title: \"هالیدی۱ \",\n                author: \"دکتر محمد ابراهیم ابوکاظمی\",\n                image: \"\",\n                description: \"کتاب هالیدی ۱ مخصوص درس فیزیک ۱ ویرایش هشتم قیمت مناسب بسیار تمیز\",\n                sell: \"sell\",\n                price: 24000,\n            }\n    ],\n        redirect: false,\n        topass: 1,\n        logged_in: false\n\n    };\n\n    redirectHandler = (val) => {\n    \tthis.setState({\n    \t\tredirect: true,\n    \t\ttopass: val.target.name\n    \t});\n    };\n\n    renderRedirect = (e) => {\n    \tif (this.state.redirect) {\n    \t    return (\n    \t\t<Redirect to={{\n\t\t\t\t\t\t\t\t\t\t  pathname: '/ad/detail',\n\t\t\t\t\t\t\t\t\t\t  state: {\n\t\t\t\t\t\t\t\t\t\t    adId: this.state.topass\n\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t}} />\n    \t\t)\n    \t}\n    }\n    componentDidMount = () => {\n        axios\n            .get(\"http://localhost:8000/api/v1/book-advertise/post/\")\n            .then((res) => {\n                var a = this.state.lists\n                for (var i = 0; i < res.data.length; i++) {\n                    a.push({id: res.data[i].id, title: res.data[i].title, author: res.data[i].authorName,\n                        image:res.data[i].poster? res.data[i].poster: '',\n                        description: res.data[i].description, sell: res.data[i].ad_type, price: (res.data[i].price? res.data[i].price: 0)\n                    })\n                }\n                console.log(a)\n                this.setState({\n                    lists: a\n                })\n            })\n            .catch((err) => {\n                \n            });\n\n             axios.post(\"http://127.0.0.1:8000/api/token/refresh/\", { \n              refresh: localStorage.getItem('refresh_token')\n          }).then((res) => {\n            localStorage.setItem('token', res.data.access);\n            this.setState({logged_in:true});\n          }).catch((err) => {\n\n\n          });\n    };\n    render() {\n        return (\n            <div className=\"App\">\n                <SideMenu classIn={\"allads\"} />\n                <div className=\"ui container\">\n\n                    <div className=\"ui message\">\n                        <h1 className=\"ui huge header\">کتاب‌باز</h1>\n                        <p className=\"lead\">\n                            مکانی برای تبادل کتاب های شما\n                        </p>\n                    </div>\n                </div>\n                <br/>\n                <div className=\"ui container\" dir=\"ltr\">\n                    <div className=\"ui relaxed divided items\">\n                        {this.state.lists.map((ad) => (\n                            <div key={{ad}} className=\"item\">\n                                <div className=\"ui small image\">\n                                    {ad.image? <img src={`data:image/png;base64,${ad.image}`} style={{width: 600 + 'px'}}/> :<img src=\"/images/default.jpg\" alt=\"Can't reload\" width=\"600\" height=\"400\"/>}\n                                </div>\n                                <div className=\"content\" style={{textAlign:\"right\"}}>\n\n                                    <a target=\"_blank\" href=\"/ads/\" className=\"header\" dir=\"rtl\" >{ad.title}</a>\n\n                                    <div className=\"meta\">\n                                        <a>{ad.author}</a>\n                                    </div>\n\n                                    <div className=\"description\">{ad.description}</div>\n                                    <br />\n                                    <div className=\"ui label\">{ad.sell === 'sale'? 'فروش': 'خرید'}</div>\n                                    {ad.sell === 'sale' && <div className=\"ui label\" dir=\"rtl\">  {ad.price} تومان </div>}\n                                    {this.state.logged_in && <div className=\"extra\">\n                                     <Button target=\"_blank\" name={ad.id} onClick={this.redirectHandler.bind(this)}\n                                           className=\"ui right floated primary button\">\n                                            اطلاعات بیشتر\n                                            <i className=\"right chevron icon\"></i>\n                                       </Button>\n                                        \n\n                                    </div>}\n                                </div>\n                            </div>\n\n\n                        ))}\n                    </div>\n                    {this.renderRedirect()}\n                </div>\n\n\n                <div className=\"clearfix\"></div>\n\n            </div>\n        )\n    }\n}","/home/kim/Desktop/bookapp/src/Pages/AdForm.js",["97","98","99","100"],"import React, { Component } from \"react\";\nimport axios, {put} from \"axios\";\n\nimport { Redirect } from 'react-router';\n\nimport SideMenu from './../SideMenu';\n\n\nimport \"semantic-ui-css/semantic.min.css\";\n\n\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Segment,\n  Checkbox\n} from \"semantic-ui-react\";\n\nimport \"./new_ad.css\"\n\nexport default class AdForm extends Component {\n\tstate = {\n\t    bookName:\"\",\n\t    authorName:\"\",\n\t    image: null,\n\t    description:\"\",\n\t    error_message:\"\",\n      price: 0,\n\t    for_sale: false,\n      redirect: false,\n      redirectBack: false,\n      redirectAcc: false,\n      title: '',\n      id: 0,\n  \t};\n\n  \tfileInputRef = React.createRef();\n\n  \tcomponentDidMount() {\n  \t\tif (this.props.classIn===\"editad\") {\n        if (this.props.location && this.props.location.state && this.props.location.state.adId) {\n            this.setState({id:this.props.location.state.adId})\n        }\n        axios.get(\"http://localhost:8000/api/v1/book-advertise/post/\" + this.props.location.state.adId + '/', { headers: {'Authorization': 'Bearer  ' + localStorage.getItem('token')}}).then((res)=>{\n          this.setState({price:res.data.price, title: res.data.title, authorName: res.data.authorName, for_sale: (res.data.ad_type === \"sale\"? true: false), description: res.data.description, \n            image: (res.data.poster? res.data.poster: \"\")})\n        }).catch((err)=>{});\n      }\n      console.log(this.state.description)\n      console.log(this.state.title)\n  \t};\n\n\n\tfileChange = (e) => {\n\t    this.setState({ image: e.target.files[0] }, () => {\n\t      console.log(\"File uploaded --->\", this.state.image);\n\t    });\n  \t};\n\n  \tfileUpload = file => {\n\t  \tconst url = \"http://localhost:8000/api/asknima\";\n\t    const formData = new FormData();\n\t    formData.append(\"file\", file);\n\n\t    const config = {\n\t      headers: {\n\t        \"Content-type\": \"multipart/form-data\"\n\t      }\n\t    };\n\t    // return put(url, formData, config);\n      axios.patch(url, formData, config).catch((err) => {})\n  \t};\n\n  \thandleToggle = (e) => {\n  \t\tthis.setState ({\n  \t\t\tfor_sale: !this.state.for_sale\n  \t\t})\n  \t};\n\n\thandleInput = (e) => { \n\t\t\n\t    this.setState({ \n\t        [e.target.name]: e.target.value, \n\t    }); \n\t\t\n\t}; \n  renderRedirectBack = (e) => {\n        if (this.state.redirectBack) {\n            return (\n            <Redirect to={{\n                                          pathname: '/ad/detail',\n                                          state: {\n                                            adId: this.state.adId\n                                          }\n                                        }} />\n            )\n        }\n        if (this.state.redirect) {\n            return (\n                <Redirect to={{\n                    pathname:'/ad/',\n                }} /> )\n        }\n        if (this.state.redirectAcc) {\n          console.log(\"redirecting\")\n            return (\n            <Redirect to={{\n                                          pathname: '/acc/',\n                                          state: {\n                                            error_message: 'برای دیدن صفحه‌ی مورد نظر باید ابتدا وارد شوید.'\n                                          }\n                                        }} />\n            )\n        }\n    };\n\thandleSubmit = (e) => { \n\t  e.preventDefault(); \n\t  // this.fileUpload(this.state.image).then(response => {\n    //   \tconsole.log(response.data);\n    // });\n    var url = \"http://localhost:8000/api/v1/book-advertise/post/\";\n    if (this.props.classIn === \"editad\") { url = url + this.props.location.state.adId + '/'\n    console.log(this.state.image)\n    axios \n        .patch(url, { \n            authorName: this.state.authorName,\n            poster: this.state.image == \"\" ? null : this.state.image,\n            description: this.state.description,\n            ad_type: (this.state.for_sale? 'sale': 'buy'),\n            price: this.state.price,\n            title: this.state.title\n        }, { headers: {'Authorization': 'Bearer ' + localStorage.getItem('token')}}) \n        .then((res) => { \n            if(this.props.classIn===\"editad\") {\n              this.setState({\n                redirectBack: true\n              })\n            } else {\n              this.setState({\n                redirect: true\n              })\n            }\n            })\n        .catch((err) => {\n          if (err.response && err.response.status === 408) {\n            this.props.handle_refresh();\n            this.handleSubmit(e);\n          } else {\n          this.setState({redirectAcc: true}); }\n        }); \n        this.fileUpload(this.state.image)\n    }  else {\n\n\n\t  axios \n\t      .post(url, { \n\t          bookName: this.state.bookName, \n\t          authorName: this.state.authorName,\n\t          poster: this.state.image,\n\t          description: this.state.description,\n\t          ad_type: (this.state.for_sale? 'sale': 'buy'),\n            price: this.state.price,\n            title: this.state.title\n\t      }, { headers: {'Authorization': 'Bearer ' + localStorage.getItem('token')}}) \n        .then((res) => { \n            if(this.props.classIn===\"editad\") {\n              this.setState({\n                redirectBack: true\n              })\n            } else {\n              this.setState({\n                redirect: true\n              })\n            }\n            })\n\t      .catch((err) => {\n\t        if (err.response && err.response.status === 408) {\n            this.props.handle_refresh();\n            this.handleSubmit(e);\n          } else {\n\t        this.setState({redirectAcc: true}); }\n\t      }); \n      }\n\n\t}; \n\trender () {\n\t\treturn (\n\n\t\t\t<div  className=\"App\">\n\n\t\t\t\t<SideMenu classIn={this.props.classIn} logged_in={this.props.logged_in} handle_logout={this.props.handle_logout}/>\n\t\t\t\t<div class=\"ui container\">\n\n        <div class=\"ui message\">\n            <h1 class=\"ui huge header\">کتاب‌باز</h1>\n            <p class=\"lead\">\n                مکانی برای تبادل کتاب های شما\n            </p>\n        </div>\n    </div>\n    <br />\n    <br />\n\n    <Grid textAlign=\"center\" verticalAlign=\"middle\" dir=\"rtl\">\n    <Grid.Column style={{ maxWidth: 700, backgroundColor:\"#e0e0eb\"}} >\n           \n            \n    <Form onSubmit={this.handleSubmit} class=\"ui right\">\n    {this.state.for_sale && <Form.Field>\n      <label style={{textAlign:\"right\"}}>تصویر:</label>\n      <Form.Input\n        placeHolder= \"تصویر\"\n      \tref={this.fileInputRef}\n      \ttype=\"file\"\n      \tname=\"image\"\n      \tonChange= {this.fileChange}\n      />\n    </Form.Field>}\n    <Form.Field>\n\n      <label style={{textAlign:\"right\"}}>نام آگهی:</label>\n      <input\n        placeholder= \"نام آگهی\"\n        name=\"title\"\n        value={this.state.title}\n        onChange= {this.handleInput}\n\n      />\n    </Form.Field>\n    \n    <Form.Field>\n      <label style={{textAlign:\"right\"}}>نام نویسنده:</label>\n      <input\n        dir=\"rtl\"\n      \tname=\"authorName\"\n      \tvalue={this.state.authorName}\n      \tonChange= {this.handleInput}\n        placeholder=\"نام نویسنده\"\n      />\n    </Form.Field>\n    <Form.Field>\n      <label style={{textAlign:\"right\"}}>توضیحات:</label>\n      <Form.TextArea \n      \tname=\"description\"\n      \tvalue={this.state.description}\n      \tonChange= {this.handleInput}\n        placeholder=\"توضیحات\"\n      /> \n    </Form.Field>\n    {this.state.for_sale && <Form.Field>\n      <label style={{textAlign:\"right\"}}>قیمت:</label>\n      <input\n        dir=\"rtl\"\n        name=\"price\"\n        value={this.state.price}\n        onChange= {this.handleInput}\n        placeholder=\"نام نویسنده\"\n      />\n    </Form.Field>}\n    <Form.Field style={{textAlign:\"right\"}}>\n      <Checkbox label='فروشی' name=\"for_sale\" checked={this.state.for_sale} onChange={this.handleToggle.bind(this)}/>\n    </Form.Field>\n\n    <Button type='submit' color=\"green\" >ثبت</Button>\n\n  </Form>\n  {this.renderRedirectBack()}\n {this.state.error_message && <Message\n      error\n      header='مشکل در ثبت اطلاعات'\n      content= {this.state.error_message}\n    />}\n\n                      </Grid.Column>\n\n        </Grid>\n    </div>\n\t\t\t)\n\t}\n}","/home/kim/Desktop/bookapp/src/Pages/AdDetails.js",["101","102","103","104","105","106","107","108","109","110","111"],"import React, {Component} from \"react\";\nimport axios from \"axios\";\nimport SideMenu from './../SideMenu';\nimport { Redirect } from 'react-router';\n\nimport \"./AdDetails.css\"\n\nexport default class AdDetails extends Component {\n\t\n    state = {\n        id: 6,\n        title: \"طراحی الگوریتم\",\n        author: \"دکتر محمد ابراهیم ابوکاظمی\",\n        image: \"/images/default.jpg\",\n        description: \"قیمت بسیار ارزان - ویرایش چهارم\",\n        sell: \"sale\",\n        redirect: false,\n        redirect_edit: false,\n        redirect_del: false,\n        price: 123,\n        redirec_ad: false,\n\n        user_name: 'علی حیدری',\n        user_number: '09121406265',\n        email: 'yazdanikimia@gmail.com',\n        redirect_acc: false,\n        redirect_ad: false,\n        redirect_del:false,\n        redirect_edit: false,\n        user_id: 0,\n\n        user_logged_in: '',\n        is_staff: false\n\n        \n\n    };\n\n    componentDidMount = () => {\n        if (this.props.location && this.props.location.state && this.props.location.state.adId) {\n            this.setState({id:this.props.location.state.adId})           \n        }\n        else {(this.setState({redirect_ad:true})); return;} \n\n        axios.post(\"http://127.0.0.1:8000/api/token/refresh/\", { \n              refresh: localStorage.getItem('refresh_token')\n          }).then((res) => {\n            localStorage.setItem('token', res.data.access);\n          }).catch((err) => {\n            this.setState({redirect_acc:true})\n            return;\n          });\n\n         axios.get(\"http://127.0.0.1:8000/api/v1/account/properties/\", { headers: {'Authorization': 'Bearer  ' + localStorage.getItem('token')}}).then((res)=>{\n            this.setState({user_logged_in:res.data.username, is_staff: res.data.is_staff})\n          }).catch((err) => {})\n        axios\n            .get(\"http://localhost:8000/api/v1/book-advertise/post/\" + this.props.location.state.adId + '/', { headers: {'Authorization': 'Bearer  ' + localStorage.getItem('token')}} )\n            .then((res) => {\n                this.setState({ title: res.data.title, author: res.data.authorName, image: res.data.poster?  res.data.poster: '',\n                description: res.data.description, sell: res.data.ad_type, price: res.data.price, user_name: res.data.author.username,\n                user_number: res.data.author.phone_number, email: res.data.author.email, user_id: res.data.author.id})\n            })\n            .catch((err) => {\n                if (err.response && (err.response.status === 401 || err.response.status == 403)) {\n                    this.setRed()\n            \t    this.redire()\n                } else {\n                    this.setState({redirect_ad:true})\n                }\n            });\n\n            if(this.state.user_logged_in === this.state.user_name) {\n                this.setState({is_staff:true})\n            }\n\n            if(this.state.user_logged_in === \"\") {\n                this.setState({user_number:'تنها به اعضا نشان داده‌می‌شود.'})\n            }\n            console.log(this.state.redirect_acc)\n\n    };\n\n\n\n\n    delete_ad = () => {\n        console.log(\"this this this\")\n        this.setState({redirect_del:true})\n    }\n\n    edit_ad = () => {\n        this.setState({redirect_edit:true})\n    }\n\n    setRed = () => {\n        this.setState({redirect_acc:true})\n    }\n\n    redire = () => {\n        return (\n            <Redirect to={{\n                                          pathname: '/acc/',\n                                          state: {\n                                            error_message: 'برای دیدن صفحه‌ی مورد نظر باید ابتدا وارد شوید.'\n                                          }\n                                        }} />\n            )\n    }\n\n\n    renderRedirectBack = (e) => {\n\n        if (this.state.redirect) {\n        \tconsole.log(\"redirecting\")\n            return (\n            <Redirect to={{\n                                          pathname: '/acc/',\n                                          state: {\n                                            error_message: 'برای دیدن صفحه‌ی مورد نظر باید ابتدا وارد شوید.'\n                                          }\n                                        }} />\n            )\n        }\n        if (this.state.redirect_edit) {\n            return (\n                <Redirect to={{\n                                          pathname: '/ad/edit/',\n                                          state: {\n                                            adId: this.state.id\n                                          }\n                                        }} />\n                )\n        }\n        if (this.state.redirect_ad) {\n            return (\n                 <Redirect to={{pathname: '/ad/'}} />\n                )\n        }\n        if (this.state.redirect_del) {\n            return (\n                <Redirect to={{\n                                          pathname: '/ad/del/',\n                                          state: {\n                                            adId: this.state.id,\n                                            bookName: this.state.title,\n                                          }\n                                        }} />\n                )\n        }\n    };\n\n    render() {\n        function buy(props) {\n            return <a>خرید</a>;\n        }\n\n        function sell(props) {\n            return <a>فروش</a>;\n        }\n\n        return (\n            <div className=\"App\">\n                <SideMenu logged_in={this.props.logged_in} handle_logout={this.props.handle_logout}/>\n\n                <link rel=\"stylesheet\" type=\"text/css\" href=\"{% 'AdDetails.css' %}\"/>\n\n                <div className=\"ui container\">\n                    <div className=\"ui message\">\n                        <h1 className=\"ui huge header\">کتاب‌باز</h1>\n                        <p style={{fontFamily: 'iransansdn', fontWeight: 'bold'}} className=\"lead\">\n                            مکانی برای تبادل کتاب های شما\n                        </p>\n                    </div>\n                </div>\n\n                <div className=\"ui divider\"/>\n                <div className=\"ui container\">\n                    <div className=\"ui relaxed divided items\">\n\n                        {/*  author title + sell/buy */}\n                        <div className=\"item\">\n                            <div className=\"content\" dir=\"rtl\" style={{textAlign: \"right\"}}>\n                                <a className=\"ui large header\"> {this.state.title}</a>\n                                <div className=\"meta\" dir=\"rtl\">\n                                \n                                    {this.state.sell == \"sale\" ? <div className=\"ui label\">فروش</div> :\n                                        <div className=\"ui label\">خرید</div>}\n                                    <a> {this.state.author} </a>\n\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* other information about the book */}\n                        <div className=\"item\">\n                            {/* book image */}\n                            <div className=\"ui medium image\">\n                                {this.state.image? <img src={`data:image/png;base64,${this.state.image}`} style={{width: 600 + 'px'}} /> :<img src=\"/images/default.jpg\" alt=\"Cinque Terre\" width=\"600\" height=\"400\"/>}\n                            </div>\n                            {/* general information */}\n\n                            <div className=\"ui text container float right\">\n                                <div className=\"ui segments\" style={{textAlign: \"right\"}}>\n                                    <div className=\"ui segment\" dir=\"rtl\">\n                                        <strong>آگهی‌دهنده: {this.state.user_name}</strong>\n                                        <button className=\" ui secondary button\">\n                           <a href={\"/acc/profi/\"+this.state.user_name}>مشاهده‌ی پروفایل</a>\n                        </button>\n                                    </div>\n                                    <div className=\"ui segment\" dir=\"rtl\">\n                                        <strong>شماره تماس: {this.state.user_number}</strong>\n                                    </div>\n                                    <div className=\"ui segment\" dir=\"rtl\">\n                                        <strong>نام نویسنده: {this.state.author}</strong>\n                                    </div>\n                                    <div className=\"ui segment\" dir=\"rtl\">\n                                        <strong>ایمیل: {this.state.email}</strong>\n                                    </div>\n                                    {this.state.sell==='sale'? <div className=\"ui segment\" dir=\"rtl\">\n                                        <strong>قیمت: {this.state.price} تومان</strong> </div>: ''}\n                                    \n                                </div>\n                            </div>\n                        </div>\n                        {/* long description */}\n                        <div className=\"item\" dir=\"rtl\">\n                            <div className=\"description\" dir=\"rtl\">\n                                {this.state.description}\n                            </div>\n\n                        </div>\n\n                    </div>\n\n                    <div className=\"ui divider\"/>\n                    {/* action buttons */}\n                    {this.state.is_staff && <div className=\"spaced\" dir=\"rtl\">\n                        <button className=\"green ui button\" onClick={this.edit_ad.bind(this)}>\n                            ویرایش\n                        </button>\n                        <button className=\"red ui button\" onClick={this.delete_ad.bind(this)}>\n                            حذف\n                        </button>\n\n                    </div>}\n                    {this.renderRedirectBack()}\n                </div>\n\n            </div>\n\n        );\n    }\n\n}\n\n","/home/kim/Desktop/bookapp/src/Pages/deleteAd.js",["112","113","114","115","116","117"],"import React, { Component } from \"react\";\nimport axios from \"axios\"; \nimport { Redirect } from 'react-router';\n\nimport './deleteAd.css'\nimport SideMenu from './../SideMenu';\nimport \"semantic-ui-css/semantic.min.css\";\n\n\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Segment,\n  Checkbox\n} from \"semantic-ui-react\";\n\n\nexport default class DeleteAd extends Component {\n\n    state = {\n        id: 0,\n        redirectBack:false,\n        redirect: false,\n        redirectAcc: false,\n        error_message: '',\n\n    };\n\n\n\thandleDelete = (e) => {\n        e.preventDefault(); \n        var url = \"http://localhost:8000/api/v1/book-advertise/post/\" + this.props.location.state.adId + '/';\n\n\n        axios.delete(url\n             , { headers: {'Authorization': 'Bearer ' + localStorage.getItem('token')}}\n          ).then((res) => { \n              this.setState({ \n                  redirect: true\n              }); \n\n        }).catch((err) => {\n            \n                if (err.response && err.response.status === 401) {\n                   this.setState({redirectAcc:true, error_message: err.response.data.message})\n                } else {\n                    this.setState({redirectBack:true})\n                }\n        })\n\t};\n\n    redirectHandlerBack = (val) => {\n        this.setState({\n            redirectBack: true,\n        });\n    };\n\n    componentDidMount() {\n        if (this.props.location && this.props.location.state && this.props.location.state.adId) {\n            this.setState({id:this.props.location.state.adId})\n        }\n        // else {(this.setState({redirect:true}));} \n        console.log(this.props.location.state.adId)\n        axios.post(\"http://127.0.0.1:8000/api/token/refresh/\", { \n              refresh: localStorage.getItem('refresh_token')\n          }).then((res) => {\n            localStorage.setItem('token', res.data.access);\n          }).catch((err) => {\n            this.setState({redirect_acc:true})\n            // return;\n          });\n    };\n\n    renderRedirectBack = (e) => {\n        if (this.state.redirectBack) {\n            return (\n            <Redirect to={{\n                                          pathname: '/ad/detail',\n                                          state: {\n                                            adId: this.props.adId\n                                          }\n                                        }} />\n            )\n        }\n        if (this.state.redirect) {\n            return (\n                <Redirect to={{\n                    pathname:'/ad/',\n                }} /> )\n        }\n        if (this.state.redirectAcc) {\n            console.log(\"redirecting\")\n            return (\n            <Redirect to={{\n                                          pathname: '/acc/',\n                                          state: {\n                                            error_message: 'برای دیدن صفحه‌ی مورد نظر باید ابتدا وارد شوید.'\n                                          }\n                                        }} />\n            )\n        }\n    };\n\trender() {\n\t\treturn (\n\t\t<div className=\"App\">\n\t\t<SideMenu logged_in={this.props.logged_in} handle_logout={this.props.handle_logout}/>\n\t\t<div class=\"ui container\">\n\n        <div class=\"ui message\">\n            <h1 class=\"ui huge header\">کتاب‌باز</h1>\n            <p class=\"lead\">\n                مکانی برای تبادل کتاب های شما\n            </p>\n        </div>\n    </div>\n    <br />\n    <div class=\"ui divider\"></div>\n    <div class=\"ui text container float center\">\n        <div class=\"ui segment\">\n            <form class=\"ui form\">\n                <p style={{fontSize:20+'px', textAlign: 'right', dir:\"rtl\"}}>\n                    آیا از حذف کتاب \n                    {' ' + (this.props.location && this.props.location.state && this.props.location.state.bookName? this.props.location.state.bookName : '') + ' '}\n                    اطمینان دارید؟\n                </p>\n                <button class=\"red ui button\" onClick={this.handleDelete.bind(this)}>حذف</button>\n                <button class=\"ui button\" onClick={this.redirectHandlerBack.bind(this)}>بازگشت</button>\n            </form>\n             {this.state.error_message && <Message\n      error\n      header='درخواست انجام نشد'\n      content= {this.state.error_message}\n    />}\n        </div>\n       \n    </div>\n\t\t{this.renderRedirectBack()}\n    </div>\n\t\t\t);\n\t};\n    }\n\n\n\t","/home/kim/Desktop/bookapp/src/Pages/SignUp.js",["118","119","120","121"],"import React, { Component } from \"react\";\nimport axios, {put} from \"axios\";\n\nimport { Redirect } from 'react-router';\n\nimport SideMenu from './../SideMenu';\n\n\nimport \"semantic-ui-css/semantic.min.css\";\n\n\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Segment,\n  Checkbox\n} from \"semantic-ui-react\";\n\nimport \"./new_ad.css\"\n\nexport default class AccForm extends Component {\n\tstate = {\n\t    user:\"\",\n      pass:\"\",\n      number:\"\",\n      name:\"\",\n      image:\"\",\n      imagefile: \"\",\n      email:\"\",\n      redirect: false,\n      redirectBack: false,\n      error_message: '',\n      namename: '',\n      bio: ''\n  \t};\n\n  \tfileInputRef = React.createRef();\n\n  \tcomponentDidMount() {\n  \t\tif (this.props.classIn===\"editacc\") {\n  \t\t        axios.post(\"http://127.0.0.1:8000/api/token/refresh/\", { \n              refresh: localStorage.getItem('refresh_token')\n          }).then((res) => {\n        localStorage.setItem('token', res.data.access);\n        \n          }).catch((err) => {\n            this.setState({redirectBack:true})\n\n      });\n          axios.get(\"http://127.0.0.1:8000/api/v1/account/properties/\", { headers: {'Authorization': 'Bearer  ' + localStorage.getItem('token')}}).then((res)=>{\n            this.setState({user:res.data.username, email:res.data.email, image:(res.data.avatar? res.data.avatar: \"/images/books.jpg\"), number: res.data.phone_number, namename: res.data.name,\n              bio: res.data.bio})\n              this.setState({image:\"\"})\n          }).catch((err) => {})\n  \t\t}\n      else {\n        axios.post(\"http://127.0.0.1:8000/api/token/refresh/\", { \n              refresh: localStorage.getItem('refresh_token')\n          }).then((res) => {\n        localStorage.setItem('token', res.data.access);\n        this.setState({redirect:true})\n        \n          }).catch((err) => {\n\n      });\n      }\n  \t};\n redirectToReg = (e) => {\n    this.setState({\n      redirectBack: true\n    })\n  };\n\n\tonFileChange = (e) => {\n\t    this.setState({image: e.target.files[0]})\n  console.log(e.target.files)\n  console.log('here')\n  console.log(this.state.image)\n  console.log(e.target.files[0])\n};\n  \n  \tfileUpload = file => {\n\t  \tconst url = \"http://localhost:8000/api/v1/account/update/avatar/\";\n      const formData = new FormData();\n      console.log(file)\n\t    formData.append(\"avatar\", file);\n\t    const config = {\n\t      headers: {\n          \"Content-type\": \"multipart/form-data\",\n          'Authorization': 'Bearer  ' + localStorage.getItem('token')\n\t      }\n\t    };\n\t    axios.patch(url, formData, config).then(response => {\n       console.log(response.data)}).catch((err) => {});\n  \t};\n\n  \thandleToggle = (e) => {\n  \t\tthis.setState ({\n  \t\t\tfor_sale: !this.state.for_sale\n  \t\t})\n  \t};\n\n\thandleInput = (e) => { \n      if (e.target.name === \"image\") {\n        console.log(\"adfasdasd\")\n         this.setState({image: e.target.files[0]});\n        console.log(this.state.image)\n      }else{\n\t    this.setState({ \n\t        [e.target.name]: e.target.value, \n\t    }); \n    }\n\t\t\n\t}; \n  renderRedirectBack = (e) => {\n        if (this.state.redirectBack) {\n            return (\n            <Redirect to={{pathname: '/acc/'}} />\n            )\n        }\n        if (this.state.redirect) {\n            return (\n                <Redirect to={{\n                    pathname:'/ad/',\n                }} /> )\n        }\n    };\n\thandleSubmit = (e) => { \n\t  e.preventDefault(); \n    if (this.props.classIn === 'editacc') {\n\t  //this.fileUpload(this.state.image).then(response => {\n      //\tconsole.log(response.data);\n   // });\n   console.log('hehh')\n   console.log(this.state.image) \n   \n    let form_data = new FormData();\n    form_data.append('image', this.state.image, this.state.image.name);\n      // Update the formData object \n    \n    axios \n        .patch(\"http://localhost:8000/api/v1/account/update/\",{ \n            username: this.state.user, \n            password: this.state.pass, \n            phone_number: this.state.number,\n            name: this.state.namename,\n            bio: this.state.bio\n        },\n        { headers: {'Authorization': 'Bearer  ' + localStorage.getItem('token')}}\n        ) \n        .then((res) => { \n              this.setState({\n                redirect: true\n              })\n            })\n        .catch((err) => {\n          \n          if (err.response && err.response.data && err.response.data.message) {\n            this.setState({error_message: err.response.data.message})\n          }else {\n          this.setState({error_message:'اطالاعات داده شده مشکل دارد!'});\n        }\n        });\n        this.fileUpload(this.state.image);\n   \n      }\n    else {\n\n\t  axios \n\t      .post(\"http://localhost:8000/api/v1/account/register/\", { \n\t          username: this.state.user, \n            password: this.state.pass, \n            email: this.state.email,\n            number: this.state.number,\n\t      }) \n        .then((res) => { \n              \n              localStorage.setItem('token', res.data.access_token);\n              localStorage.setItem('refresh_token', res.data.refresh_token);\n              this.setState({\n                redirect: true\n              })\n            })\n\t      .catch((err) => {\n\t        \n\t        if (err.response && err.response.data && err.response.data.message) {\n            this.setState({error_message: err.response.data.message})\n          }else {\n          this.setState({error_message:'متاسفانه اتصال برقرار نشد.'});\n        }\n\t      });\n        } \n\t}; \n\trender () {\n\t\treturn (\n\n\t\t\t<div  className=\"App\">\n\n\t\t\t\t<SideMenu classIn={this.props.classIn} logged_in={this.props.logged_in} handle_logout={this.props.handle_logout}/>\n\t\t\t\t<div class=\"ui container\">\n\n        <div class=\"ui message\">\n            <h1 class=\"ui huge header\">کتاب‌باز</h1>\n            <p class=\"lead\">\n                مکانی برای تبادل کتاب های شما\n            </p>\n        </div>\n    </div>\n    <br />\n    <br />\n\n    <Grid textAlign=\"center\" verticalAlign=\"middle\" dir=\"rtl\">\n    <Grid.Column style={{ maxWidth: 700, backgroundColor:\"#e0e0eb\"}} >\n           \n            \n    <Form onSubmit={this.handleSubmit} class=\"ui right\">\n    {this.props.classIn === \"editacc\" && <Form.Field>\n      <label style={{textAlign:\"right\"}}>تصویر پروفایل:</label>\n      <Form.Input\n        placeHolder= \"تصویر پروفایل\"\n      \tref={this.fileInputRef}\n      \ttype=\"file\"\n      \tname=\"image\"\n      \tonChange= {this.handleInput}\n      />\n    </Form.Field>}\n\n    \n\n    {this.props.classIn === \"editacc\" && <Form.Field>\n    \n\n      <label style={{textAlign:\"right\"}}>نام و نام خانوادگی:</label>\n      <input\n        placeHolder= \"نام و نام خانوادگی\"\n        name=\"namename\"\n        value={this.state.namename}\n        onChange= {this.handleInput}\n\n      />\n      </Form.Field> }\n      {this.props.classIn === \"editacc\" && <Form.Field>\n      <label style={{textAlign:\"right\"}}>بیوگرافی:</label>\n      <Form.Input\n        placeHolder= \"بیوگرافی\"\n        name=\"bio\"\n        value={this.state.bio}\n        onChange= {this.handleInput}\n      />\n    </Form.Field>}\n     {this.props.classIn === \"newacc\" && <Form.Field>\n\n\n      <label style={{textAlign:\"right\"}}>ایمیل:</label>\n      <input\n        placeHolder= \"ایمیل\"\n        name=\"email\"\n        value={this.state.email}\n        onChange= {this.handleInput}\n\n      />\n      </Form.Field> }\n       <Form.Field>\n\n      <label style={{textAlign:\"right\"}}>شماره‌ی همراه:</label>\n      <input\n        placeHolder= \"شماره‌ی همراه\"\n        name=\"number\"\n        value={this.state.number}\n        onChange= {this.handleInput}\n\n      />\n      </Form.Field>\n    <Form.Field>\n\n      <label style={{textAlign:\"right\"}}>نام کاربری:</label>\n      <input\n        placeholder= \"نام کاربری\"\n      \tname=\"user\"\n      \tvalue={this.state.user}\n      \tonChange= {this.handleInput}\n\n      />\n    </Form.Field>\n    <Form.Field>\n      <label style={{textAlign:\"right\"}}>رمز عبور:</label>\n      <input\n        dir=\"rtl\"\n      \tname=\"pass\"\n        type=\"password\"\n      \tvalue={this.state.pass}\n      \tonChange= {this.handleInput}\n        placeholder=\"رمز عبور\"\n      />\n    </Form.Field>\n  \n    \n    \n\n    {this.props.classIn===\"editacc\"? <Button type='submit' color=\"green\" >ثبت</Button>:\n    <Button.Group>\n    <Button primary onClick={this.redirectToReg.bind(this)}>عضو هستید</Button>\n    <Button.Or text='یا' />\n    <Button positive onClick={this.handleSubmit}>ساخت اکانت</Button>\n  </Button.Group>}\n\n  </Form>\n  {this.renderRedirectBack()}\n {this.state.error_message && <Message\n      error\n      header='مشکل در ثبت اطلاعات'\n      content= {this.state.error_message}\n    />}\n\n                      </Grid.Column>\n\n        </Grid>\n    </div>\n\t\t\t)\n\t}\n}\n\n\n// {this.props.classIn === \"editacc\" && <img src={`data:image/png;base64,${this.state.image}`} style={{width: 70 + 'px'}} />}","/home/kim/Desktop/bookapp/src/Pages/SignIn.js",["122","123","124","125"],"import React, { Component } from \"react\";\nimport axios, {put} from \"axios\";\n\nimport { Redirect } from 'react-router';\n\nimport SideMenu from './../SideMenu';\n\n\nimport \"semantic-ui-css/semantic.min.css\";\n\n\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Segment,\n  Checkbox\n} from \"semantic-ui-react\";\n\nimport \"./new_ad.css\"\n\nexport default class SignIn extends Component {\n\tstate = {\n\t    user: \"\",\n      pass: \"\",\n      redirect: false,\n      redirectBack: false,\n      error_message: this.props.location.state? this.props.location.state.error_message:'',\n  \t};\n\n  componentDidMount(props) {\n      axios.post(\"http://127.0.0.1:8000/api/token/refresh/\", { \n              refresh: localStorage.getItem('refresh_token')\n          }).then((res) => {\n        localStorage.setItem('token', res.data.access);\n        this.setState({redirect:true})\n          }).catch((err) => {\n\n      });\n  };\n\n\n\thandleInput = (e) => { \n\t\t\n\t    this.setState({ \n\t        [e.target.name]: e.target.value, \n\t    }); \n\t\t\n\t}; \n  redirectToReg = (e) => {\n    this.setState({\n      redirectBack: true\n    })\n  };\n  renderRedirectBack = (e) => {\n        if (this.state.redirectBack) {\n            return (\n            <Redirect to={{ pathname: '/acc/register' }} />\n            )\n        }\n        if (this.state.redirect) {\n            return (\n                <Redirect to={{\n                    pathname:'/ad/',\n                }} /> )\n        }\n    };\n\thandleSubmit = (e) => { \n\t  e.preventDefault(); \n\n     axios \n        .post(\"http://localhost:8000/api/v1/account/login/\", { \n            username: this.state.user,\n            password: this.state.pass,\n        }) \n        .then((res) => { \n          localStorage.setItem('token', res.data.access_token);\n          localStorage.setItem('refresh_token', res.data.refresh_token);\n          this.setState({redirect:true});\n            })\n        .catch((err) => {\n          if (err.response && err.response.data && err.response.data.message) {\n            this.setState({error_message: err.response.data.message})\n          }else {\n          this.setState({error_message:'متاسفانه اتصال برقرار نشد.'});\n        }\n          \n        }); \n\n      console.log(localStorage.getItem('token'));\n      console.log(localStorage.getItem('refresh_token'));\n\t}; \n\trender () {\n\t\treturn (\n\n\t\t\t<div className=\"App\">\n\n\t\t\t\t<SideMenu classIn=\"login\" {...this.props}/>\n\t\t\t\t<div class=\"ui container\">\n\n        <div class=\"ui message\">\n            <h1 class=\"ui huge header\">کتاب‌باز</h1>\n            <p class=\"lead\">\n                مکانی برای تبادل کتاب های شما\n            </p>\n        </div>\n    </div>\n    <br />\n    <br />\n\n    <Grid textAlign=\"center\" verticalAlign=\"middle\" dir=\"rtl\" >\n    <Grid.Column style={{ maxWidth: 700, backgroundColor:\"#e0e0eb\"}} >\n           \n            \n    <Form onSubmit={this.handleSubmit} class=\"ui right\">\n    \n    <Form.Field>\n\n      <label style={{textAlign:\"right\"}}>نام کاربری:</label>\n      <input\n      \tname=\"user\"\n      \tvalue={this.state.user}\n      \tonChange= {this.handleInput}\n        placeholder= \"نام کاربری\"\n\n      />\n    </Form.Field>\n    <Form.Field>\n      <label style={{textAlign:\"right\"}}>رمز عبور:</label>\n      <input\n        type=\"password\"\n        dir=\"rtl\"\n      \tname=\"pass\"\n      \tvalue={this.state.pass}\n      \tonChange= {this.handleInput}\n        placeholder=\"زمر عبور\"\n      />\n    </Form.Field>\n\n\n    \n\n    <Button.Group>\n    <Button primary onClick={this.redirectToReg.bind(this)}>ساخت اکانت جدید</Button>\n    <Button.Or text='یا' />\n    <Button positive onClick={this.handleSubmit}>ورود به اکانت</Button>\n  </Button.Group>\n\n  </Form>\n  {this.renderRedirectBack()}\n {this.state.error_message && <Message\n      error\n      header='درخواست انجام نشد'\n      content= {this.state.error_message}\n    />}\n\n                      </Grid.Column>\n\n        </Grid>\n    </div>\n\t\t\t)\n\t}\n}","/home/kim/Desktop/bookapp/src/SideMenu.js",["126","127","128","129"],"import React, { Component } from \"react\";\nimport axios from \"axios\"; \n\nexport default class SideMenu extends Component {\n    state = {\n        logged_in: \"f\",\n        is_staff: \"f\"\n    }\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n    handle_logout() {\n\t\taxios.post(\"http://localhost:8000/api/v1/account/logout/\", {}, {headers: {'Authorization': 'Bearer ' + localStorage.getItem('token')}}).\n\t\tcatch((err) => {\n\t\t});\n\t\tlocalStorage.removeItem('token')\n\t\tlocalStorage.removeItem('refresh_token')\n        this.setState({logged_in:\"f\"})\n    }\n\n    componentDidMount() {\n        axios.post(\"http://127.0.0.1:8000/api/token/refresh/\", { \n              refresh: localStorage.getItem('refresh_token')\n          }).then((res) => {\n        localStorage.setItem('token', res.data.access);\n          this.setState({logged_in: \"t\"});\n      }).catch((err) => {\n\n\t\t  });\n\n      axios.get(\"http://127.0.0.1:8000/api/v1/account/properties/\", { headers: {'Authorization': 'Bearer  ' + localStorage.getItem('token')}}).then((res)=>{\n            this.setState({is_staff: res.data.is_staff? \"t\": \"f\"})\n          }).catch((err) => {})\n    }\n\n\trender() {\n\t\treturn (\n\t\t\t<div class=\"ui tablet computer only padded grid\">\n    \t\t<div class=\"ui top fixed borderless fluid huge menu\">\n        \t<div class=\"ui container\">\n        \t\t<a class=\"link mobile hidden item\" href=\"/\">\n                <img src=\"/images/logo1.png\" style={{width: 70 + 'px'}} /></a>\n            \t<a href=\"/\" class=\"header item\">کتاب‌باز</a>\n            \t<div class=\"right menu\">\n           \t\t<a href=\"/\" class={\"Home\"===this.props.classIn ? \"active item\" : \"item\"}> صفحه‌ اصلی </a>\n                {this.state.is_staff === \"t\"? <a href=\"/ad/ver\" class={\"adver\"===this.props.classIn?\"active item\":\"item\"}> تایید آگهی</a>:''}\n                <a href=\"/ad/\" class={\"allads\"===this.props.classIn ? \"active item\" : \"item\"}> آگهی‌ها</a>\n                {this.state.logged_in === \"t\"? <a href=\"/ad/new\" class={\"newad\"===this.props.classIn ? \"active item\" : \"item\"}> ثبت آگهی </a>:''}\n                {this.state.logged_in === \"t\"? <a href=\"/acc/edit\" class={\"editacc\"===this.props.classIn ? \"active item\" : \"item\"}> ویرایش پروفایل </a>:''}\n                {this.state.logged_in === \"t\"? <a onClick={this.handle_logout.bind(this)} class=\"item\"> خروج از اکانت </a>:''}\n                {this.state.logged_in === \"f\"? <a href=\"/acc/\" class={\"login\"===this.props.classIn?\"active item\":\"item\"}> ورود به اکانت</a>:''}\n                {this.state.logged_in === \"f\"? <a href=\"/acc/register\" class={\"regacc\"===this.props.classIn?\"active item\":\"item\"}> ساخت اکانت</a>:''}\n                {this.state.logged_in === \"t\"? <a href=\"/acc/prof\" class={\"accprof\"===this.props.classIn?\"active item\":\"item\"}> مشاهده‌ پروفایل</a>:''}\n                {this.state.logged_in === \"f\"? <a href=\"/acc/chats\" class={\"chats\"===this.props.classIn?\"active item\":\"item\"}> مکالمات</a>:''}\n\n            </div>\n        </div>\n    </div>\n</div>\n\t\t\t);\n\t}\n}","/home/kim/Desktop/bookapp/src/Pages/AdVer.js",["130","131","132","133","134","135","136","137"],"import React, {Component} from \"react\";\nimport axios from \"axios\";\nimport SideMenu from './../SideMenu';\nimport { Redirect } from 'react-router';\n// import './AddAll.css'\nimport 'semantic-ui-css/semantic.min.css';\n\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Segment,\n  Checkbox\n} from \"semantic-ui-react\";\n\n\nexport default class AdVer extends Component {\n    state = {\n        lists: [{\n            id: 1,\n            title: \"طراحی الگوریتم\",\n            author: [\"ریچارد نیپولیتان\"],\n            image: \"\",\n            description: \"قیمت بسیار ارزان - ویرایش چهارم\",\n            sell: \"buy\",\n            price: 0\n\n        },\n            {\n                id: 2,\n                title: \"هالیدی۱ \",\n                author: \"دکتر محمد ابراهیم ابوکاظمی\",\n                image: \"\",\n                description: \"کتاب هالیدی ۱ مخصوص درس فیزیک ۱ ویرایش هشتم قیمت مناسب بسیار تمیز\",\n                sell: \"sell\",\n                price: 24000,\n            }],\n        redirect: false,\n        topass: 1,\n        redirectall: false,\n        is_staff: \"f\"\n\n    };\n\n    redirectHandler = (val) => {\n         axios\n            .patch(\"http://localhost:8000/api/v1/book-advertise/approve/\" + val.target.name + \"/\", {status:\"approved\"},{ headers: {'Authorization': 'Bearer  ' + localStorage.getItem('token')}})\n            .then((res) => {\n               this.setState({\n            redirect: true,\n            topass: val.target.name\n        });\n\n            })\n            .catch((err) => {\n                // this.setState({redirectall:true})\n                \n            });\n    \tthis.setState({\n    \t\tredirect: true,\n    \t\ttopass: val.target.name\n    \t});\n        this.renderRedirect()\n    };\n\n\n    handleDelete = (e) => {\n        e.preventDefault(); \n        axios\n            .patch(\"http://localhost:8000/api/v1/book-advertise/approve/\" + e.target.name + \"/\", {status:\"disapproved\"}, { headers: {'Authorization': 'Bearer  ' + localStorage.getItem('token')}})\n            .then((res) => {\n               this.setState({\n            redirect: true,\n            topass: e.target.name\n        })}).catch((err)=>{});\n\n        this.renderRedirect()\n    };\n\n    renderRedirect = () => {\n    \tif (this.state.redirect) {\n    \t    return (\n    \t\t<Redirect to={{\n\t\t\t\t\t\t\t\t\t\t  pathname: '/ad/ver',\n\t\t\t\t\t\t\t\t\t\t}} />\n\n    \t\t)\n    \t}\n        if (this.state.redirectall) {\n            return (\n            <Redirect to={{\n                                          pathname: '/ad/',\n                                        }} />\n\n            )\n\n        }\n    }\n\n    componentDidMount = () => {\n         axios.get(\"http://127.0.0.1:8000/api/v1/account/properties/\", { headers: {'Authorization': 'Bearer  ' + localStorage.getItem('token')}}).then((res)=>{\n            if(res.data.is_staff) {} else {this.setState({redirectall:true})}\n          }).catch((err) => {})\n\n\n             axios\n            .get(\"http://localhost:8000/api/v1/book-advertise/all\", { headers: {'Authorization': 'Bearer  ' + localStorage.getItem('token')}})\n            .then((res) => {\n                var a = this.state.lists\n                for (var i = 0; i < res.data.length; i++) {\n                    a.push({id: res.data[i].id, title: res.data[i].title, author: res.data[i].authorName,\n                        image:res.data[i].poster? res.data[i].poster: '',\n                        description: res.data[i].description, sell: res.data[i].ad_type, price: (res.data[i].price? res.data[i].price: 0)\n                    })\n                }\n                console.log(a)\n                this.setState({\n                    lists: a\n                })\n            })\n            .catch((err) => {\n                \n            });\n    };\n    render() {\n        return (\n            <div className=\"App\">\n                <SideMenu classIn={\"adver\"} />\n                <div className=\"ui container\">\n\n                    <div className=\"ui message\">\n                        <h1 className=\"ui huge header\">کتاب‌باز</h1>\n                        <p className=\"lead\">\n                            مکانی برای تبادل کتاب های شما\n                        </p>\n                    </div>\n                </div>\n                <br/>\n                <div className=\"ui container\" dir=\"ltr\">\n                    <div className=\"ui relaxed divided items\">\n                        {this.state.lists.map((ad) => (\n                            <div key={{ad}} className=\"item\">\n                                <div className=\"ui small image\">\n                                    {ad.image? <img src={`data:image/png;base64,${ad.image}`} style={{width: 600 + 'px'}}/> :<img src=\"/images/default.jpg\" alt=\"Can't reload\" width=\"600\" height=\"400\"/>}\n                                </div>\n                                <div className=\"content\" style={{textAlign:\"right\"}}>\n\n                                    <a target=\"_blank\" href=\"/ads/\" className=\"header\" dir=\"rtl\" >{ad.title}</a>\n\n                                    <div className=\"meta\">\n                                        <a>{ad.author}</a>\n                                    </div>\n\n                                    <div className=\"description\">{ad.description}</div>\n                                    <br />\n                                    <div className=\"ui label\">{ad.sell === 'sell'? 'فروش': 'خرید'}</div>\n                                    {ad.sell === 'sell' && <div className=\"ui label\" dir=\"rtl\">  {ad.price} تومان </div>}\n                                    <div className=\"extra\">\n                                     <Button target=\"_blank\" name={ad.id} onClick={this.redirectHandler.bind(this)}\n                                           className=\"ui right floated primary button\">\n                                            تایید آگهی\n                                            <i className=\"right chevron icon\"></i>\n                                       </Button>\n                                       <Button target=\"_blank\" name={ad.id} onClick={this.handleDelete.bind(this)}\n                                           className=\"ui right floated secondary button\">\n                                            رد آگهی\n                                            <i className=\"right chevron icon\"></i>\n                                       </Button>\n                                        \n\n                                    </div>\n                                </div>\n                            </div>\n\n\n                        ))}\n                    </div>\n                    {this.renderRedirect.bind(this)}\n                </div>\n\n\n                <div className=\"clearfix\"></div>\n\n            </div>\n        )\n    }\n}","/home/kim/Desktop/bookapp/src/Pages/Profile.js",["138","139","140","141","142","143","144","145","146","147"],"import React, {Component} from \"react\";\nimport axios from \"axios\";\nimport SideMenu from './../SideMenu';\nimport { Redirect } from 'react-router';\n// import './AddAll.css'\nimport 'semantic-ui-css/semantic.min.css';\n\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Segment,\n  Checkbox,\n  Card,\n  Icon,\n  Feed\n} from \"semantic-ui-react\";\n\n\nexport default class Profile extends Component {\n    state = {\n        email:\"yazdanikimia@gmail.com\",\n        image:\"/images/avatar.jpeg\",\n        namename: 'کیمیا یزدانی',\n        username: 'kimyazdani',\n        bio: 'شیبشسی شسب تنمت شسی.',\n        lists: [{\n            id: 1,\n            title: \"طراحی الگوریتم\",\n            author: [\"ریچارد نیپولیتان\"],\n            image: \"\",\n            description: \"قیمت بسیار ارزان - ویرایش چهارم\",\n            sell: \"buy\",\n            price: 0\n\n        },\n            {\n                id: 2,\n                title: \"هالیدی۱ \",\n                author: \"دکتر محمد ابراهیم ابوکاظمی\",\n                image: \"\",\n                description: \"کتاب هالیدی ۱ مخصوص درس فیزیک ۱ ویرایش هشتم قیمت مناسب بسیار تمیز\",\n                sell: \"sell\",\n                price: 24000,\n            }],\n        redirect: false,\n        topass: 1,\n\n    };\n\n    redirectHandler = (val) => {\n    \tthis.setState({\n    \t\tredirect: true,\n    \t\ttopass: val.target.name\n    \t});\n    };\n\n    renderRedirect = (e) => {\n    \tif (this.state.redirect) {\n    \t    return (\n    \t\t<Redirect to={{\n\t\t\t\t\t\t\t\t\t\t  pathname: '/ad/detail',\n\t\t\t\t\t\t\t\t\t\t  state: {\n\t\t\t\t\t\t\t\t\t\t    adId: this.state.topass\n\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t}} />\n    \t\t)\n    \t}\n    }\n    componentDidMount = () => {\n        axios.get(\"http://127.0.0.1:8000/api/v1/account/properties/\", { headers: {'Authorization': 'Bearer  ' + localStorage.getItem('token')}}).then((res)=>{\n            this.setState({user:res.data.username, email:res.data.email, image:(res.data.avatar? res.data.avatar: \"\"), namename: res.data.name,\n              bio: res.data.bio})\n          }).catch((err) => {})\n        console.log(this.state.image)\n        axios\n            .get(\"http://localhost:8000/api/v1/book-advertise/user-posts/\", { headers: {'Authorization': 'Bearer  ' + localStorage.getItem('token')}})\n            .then((res) => {\n                var a = this.state.lists\n                for (var i = 0; i < res.data.length; i++) {\n                    a.push({id: res.data[i].id, title: res.data[i].title, author: res.data[i].authorName,\n                        image:res.data[i].poster? res.data[i].poster: '',\n                        description: res.data[i].description, sell: res.data[i].ad_type, price: (res.data[i].price? res.data[i].price: 0), status: res.data[i].status\n                    })\n                }\n                console.log(a)\n                this.setState({\n                    lists: a\n                })\n            })\n            .catch((err) => {\n                \n            });\n    };\n    render() {\n        const extra = (\n  <a>\n    <Icon name='user' />\n    16 Friends\n  </a>\n)\n        return (\n            <div className=\"App\">\n                <SideMenu classIn={\"accprof\"} />\n                <div className=\"ui container\">\n\n                    <div className=\"ui message\">\n                        <h1 className=\"ui huge header\">کتاب‌باز</h1>\n                        <p className=\"lead\">\n                            مکانی برای تبادل کتاب های شما\n                        </p>\n                    </div>\n                </div>\n                <br/>\n                <div className=\"ui container\" dir=\"ltr\">\n                    <div className=\"ui relaxed divided items\">\n                    \n            <Card fluid color='red'>\n            <Card.Content>\n                <Card.Header>{this.state.username}</Card.Header>\n            </Card.Content>\n            <Card.Content dir='rtl'>\n            <Feed dir='rtl'>\n            <Feed.Event>\n              <Feed.Label image={`data:image/png;base64,${this.state.image}`} />\n              <Feed.Content>\n                <Feed.Date content={this.state.namename} />\n                <Feed.Summary>\n                  {this.state.bio}\n                </Feed.Summary>\n              </Feed.Content>\n            </Feed.Event>\n            </Feed>\n            </Card.Content>\n            </Card>\n  \n                       {this.state.lists.map((ad) => (\n                            <div key={{ad}} className=\"item\">\n                                <div className=\"ui small image\">\n                                    {ad.image? <img src={`data:image/png;base64,${ad.image}`} style={{width: 600 + 'px'}}/> :<img src=\"/images/default.jpg\" alt=\"Can't reload\" width=\"600\" height=\"400\"/>}\n                                </div>\n                                <div className=\"content\" style={{textAlign:\"right\"}}>\n\n                                    <a target=\"_blank\" href=\"/ads/\" className=\"header\" dir=\"rtl\" >{ad.title}</a>\n\n                                    <div className=\"meta\">\n                                        <a>{ad.author}</a>\n                                    </div>\n\n                                    <div className=\"description\">{ad.description}</div>\n                                    <br />\n                                    <div className=\"ui label\">{ad.sell === 'sale'? 'فروش': 'خرید'}</div>\n                                    <div className=\"ui label\">{ad.status === 'approved'? 'تایید شده': (ad.status === \"pending\" ? 'در حال بررسی': 'رد شده')}</div>\n                                    {ad.sell === 'sale' && <div className=\"ui label\" dir=\"rtl\">  {ad.price} تومان </div>}\n                                    <div className=\"extra\">\n                                     <Button target=\"_blank\" name={ad.id} onClick={this.redirectHandler.bind(this)}\n                                           className=\"ui right floated primary button\">\n                                            اطلاعات بیشتر\n                                            <i className=\"right chevron icon\"></i>\n                                       </Button>\n                                        \n\n                                    </div>\n                                </div>\n                            </div>\n\n\n                        ))}\n                    </div>\n                    {this.renderRedirect()}\n                </div>\n\n\n                <div className=\"clearfix\"></div>\n\n            </div>\n        )\n    }\n}\n\n // <Card fluid\n //    image='/images/default.jpg'\n //    header='Elliot Baker'\n //    meta='Friend'\n //    description='Elliot is a sound engineer living in Nashville who enjoys playing guitar and hanging with his cat.'\n //    extra={extra}\n //  />\n\n // <img src={ad.image} alt=\"Cinque Terre\" width=\"600\" height=\"400\"/>","/home/kim/Desktop/bookapp/src/Pages/Profile_else.js",["148","149","150","151","152","153","154","155","156","157"],"/home/kim/Desktop/bookapp/src/Pages/ChatUsers.js",["158","159","160","161","162","163","164","165"],"import React, {Component} from \"react\";\nimport axios from \"axios\";\nimport SideMenu from './../SideMenu';\nimport { Redirect } from 'react-router';\nimport moment, {Moment} from 'moment'\n// import './AddAll.css'\nimport 'semantic-ui-css/semantic.min.css';\n\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Segment,\n  Checkbox,\n  Card,\n  Icon,\n  Feed\n} from \"semantic-ui-react\";\n\n\nexport default class ChatUsers extends Component {\n    state = {\n        lists: [ \n        {\n            id: 2,\n            corr: \"نیما\",\n            lastpm: \"نیما نیما بیا اینتگریت کنیم.\",\n            lastdate: \"10/23/1999 12:03\",\n            profile: \"\"\n        },\n        {\n            id: 3,\n            corr: \"پارسا\",\n            lastpm: \"لاعات زیست‌شناسی، از ترکیب علوم کامپیوتر، آمار، ریاضی و مهندسی استفاده می‌کند. به عبارتی دیگر از بیوانفورماتیک برای تجزیه و تحلیل درون کامپیوتریِ مسائل زیست‌شناسی با استفاده از تکنیک‌های ریاضی و آمار استفاده می‌شود.\",\n            lastdate: \"04/11/2020 12:00\",\n            profile: \"\"\n        }\n        ],\n        redirect: false,\n        topass: 1,\n        logged_in: '',\n\n    };\n\n    redirectHandler = (val) => {\n        console.log(val)\n    \tthis.setState({\n    \t\tredirect: true,\n    \t\ttopass: val\n    \t});\n    };\n\n    renderRedirect = (e) => {\n    \tif (this.state.redirect) {\n    \t    return (\n    \t\t<Redirect to={{\n\t\t\t\t\t\t\t\t\t\t  pathname: '/chatroom',\n\t\t\t\t\t\t\t\t\t\t  state: {\n\t\t\t\t\t\t\t\t\t\t    accId: this.state.topass\n\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t}} />\n    \t\t)\n    \t}\n    }\n    componentDidMount = () => {\n\n             axios.get(\"http://127.0.0.1:8000/api/v1/account/properties/\", { headers: {'Authorization': 'Bearer  ' + localStorage.getItem('token')}}).then((res)=>{\n            this.setState({logged_in: res.username})\n          }).catch((err) => {})\n            axios.get(\"http://localhost:8000/api/v1/chat/main-page/\", { headers: {'Authorization': 'Bearer  ' + localStorage.getItem('token')}}).then((res)=>{\n                var a = []\n                this.setState({lists:[]})\n                for(var i = 0; i < res.data.result.length; i++) {\n                    a.push({id:res.data.result[i].receiver.id, corr:res.data.result[i], profile:res.data.result[i].avatar,\n                        lastpm: res.data.result[i].text, lastdate:res.data.result[i].created})\n\n                }\n                this.setState({lists:a})\n            }).catch((err)=>{console.log(err)})\n\n             axios.post(\"http://127.0.0.1:8000/api/token/refresh/\", { \n              refresh: localStorage.getItem('refresh_token')\n          }).then((res) => {\n            localStorage.setItem('token', res.data.access);\n            this.setState({logged_in:true});\n          }).catch((err) => {\n\n\n          });\n          \n    };\n    render() {\n\n        return (\n            <div className=\"App\">\n                <SideMenu classIn={\"chats\"} />\n                <div className=\"ui container\">\n\n                    <div className=\"ui message\">\n                        <h1 className=\"ui huge header\">کتاب‌باز</h1>\n                        <p className=\"lead\">\n                            مکانی برای تبادل کتاب های شما\n                        </p>\n                    </div>\n                </div>\n                <br/>\n                <div className=\"ui container\" dir=\"ltr\">\n                    <div className=\"ui relaxed divided items\">\n                        \n\n                        {this.state.lists.map((chat) => (\n                    <Card fluid color=\"orange\" key={{chat}} name={chat.corr} link onClick={this.redirectHandler.bind(this, chat.id)}>\n                            <Card.Content>\n                            <Card.Header>{chat.corr} </Card.Header>\n                            </Card.Content>\n\n                            <Card.Content dir='rtl'>\n\n            <Feed>\n            <Feed.Event>\n              {chat.profile? <Feed.Label image={`data:image/png;base64,${chat.profile}`} />: <Feed.Label image=\"/images/default.jpg\" />}\n              <Feed.Content>\n                <Feed.Date content={moment(chat.lastdate).format(\"MM/DD/YYYY hh:mm:ss\")} />\n\n                <Feed.Summary>\n                  {chat.lastpm}\n\n                </Feed.Summary>\n              </Feed.Content>\n            </Feed.Event>\n            </Feed>\n            </Card.Content>\n            \n                            </Card>\n                            ))}\n                    </div>\n\n                {this.state.lists.length===0 &&   <div>  <Message color='teal' dir=\"rtl\">تاکنون مکالمه‌ای انجام نشده‌است.</Message></div>}\n                    {this.renderRedirect()}\n                \n                </div>\n\n\n\n\n                <div className=\"clearfix\"></div>\n\n            </div>\n\n        )\n    } \n    \n}","/home/kim/Desktop/bookapp/src/Pages/ChatPage.js",["166","167","168","169","170","171"],{"ruleId":"172","replacedBy":"173"},{"ruleId":"174","replacedBy":"175"},{"ruleId":"176","severity":1,"message":"177","line":1,"column":8,"nodeType":"178","messageId":"179","endLine":1,"endColumn":12},{"ruleId":"176","severity":1,"message":"180","line":2,"column":8,"nodeType":"178","messageId":"179","endLine":2,"endColumn":13},{"ruleId":"181","severity":1,"message":"182","line":39,"column":25,"nodeType":"183","endLine":39,"endColumn":101},{"ruleId":"181","severity":1,"message":"182","line":64,"column":9,"nodeType":"183","endLine":64,"endColumn":120},{"ruleId":"176","severity":1,"message":"184","line":10,"column":3,"nodeType":"178","messageId":"179","endLine":10,"endColumn":7},{"ruleId":"176","severity":1,"message":"185","line":11,"column":3,"nodeType":"178","messageId":"179","endLine":11,"endColumn":7},{"ruleId":"176","severity":1,"message":"186","line":12,"column":3,"nodeType":"178","messageId":"179","endLine":12,"endColumn":9},{"ruleId":"176","severity":1,"message":"187","line":13,"column":3,"nodeType":"178","messageId":"179","endLine":13,"endColumn":10},{"ruleId":"176","severity":1,"message":"188","line":14,"column":3,"nodeType":"178","messageId":"179","endLine":14,"endColumn":10},{"ruleId":"176","severity":1,"message":"189","line":15,"column":3,"nodeType":"178","messageId":"179","endLine":15,"endColumn":11},{"ruleId":"181","severity":1,"message":"182","line":116,"column":48,"nodeType":"183","endLine":116,"endColumn":124},{"ruleId":"190","severity":1,"message":"191","line":123,"column":41,"nodeType":"183","endLine":123,"endColumn":44},{"ruleId":"176","severity":1,"message":"192","line":2,"column":16,"nodeType":"178","messageId":"179","endLine":2,"endColumn":19},{"ruleId":"176","severity":1,"message":"186","line":16,"column":3,"nodeType":"178","messageId":"179","endLine":16,"endColumn":9},{"ruleId":"176","severity":1,"message":"188","line":18,"column":3,"nodeType":"178","messageId":"179","endLine":18,"endColumn":10},{"ruleId":"193","severity":1,"message":"194","line":130,"column":38,"nodeType":"195","messageId":"196","endLine":130,"endColumn":40},{"ruleId":"197","severity":1,"message":"198","line":28,"column":9,"nodeType":"199","messageId":"196","endLine":28,"endColumn":21},{"ruleId":"197","severity":1,"message":"200","line":29,"column":9,"nodeType":"199","messageId":"196","endLine":29,"endColumn":22},{"ruleId":"193","severity":1,"message":"194","line":65,"column":89,"nodeType":"195","messageId":"196","endLine":65,"endColumn":91},{"ruleId":"176","severity":1,"message":"201","line":154,"column":18,"nodeType":"178","messageId":"179","endLine":154,"endColumn":21},{"ruleId":"190","severity":1,"message":"191","line":155,"column":20,"nodeType":"183","endLine":155,"endColumn":23},{"ruleId":"176","severity":1,"message":"202","line":158,"column":18,"nodeType":"178","messageId":"179","endLine":158,"endColumn":22},{"ruleId":"190","severity":1,"message":"191","line":159,"column":20,"nodeType":"183","endLine":159,"endColumn":23},{"ruleId":"190","severity":1,"message":"191","line":184,"column":33,"nodeType":"183","endLine":184,"endColumn":64},{"ruleId":"193","severity":1,"message":"194","line":187,"column":54,"nodeType":"195","messageId":"196","endLine":187,"endColumn":56},{"ruleId":"190","severity":1,"message":"191","line":189,"column":37,"nodeType":"183","endLine":189,"endColumn":40},{"ruleId":"181","severity":1,"message":"182","line":199,"column":52,"nodeType":"183","endLine":199,"endColumn":137},{"ruleId":"176","severity":1,"message":"203","line":11,"column":3,"nodeType":"178","messageId":"179","endLine":11,"endColumn":9},{"ruleId":"176","severity":1,"message":"184","line":12,"column":3,"nodeType":"178","messageId":"179","endLine":12,"endColumn":7},{"ruleId":"176","severity":1,"message":"185","line":13,"column":3,"nodeType":"178","messageId":"179","endLine":13,"endColumn":7},{"ruleId":"176","severity":1,"message":"186","line":14,"column":3,"nodeType":"178","messageId":"179","endLine":14,"endColumn":9},{"ruleId":"176","severity":1,"message":"188","line":16,"column":3,"nodeType":"178","messageId":"179","endLine":16,"endColumn":10},{"ruleId":"176","severity":1,"message":"189","line":17,"column":3,"nodeType":"178","messageId":"179","endLine":17,"endColumn":11},{"ruleId":"176","severity":1,"message":"192","line":2,"column":16,"nodeType":"178","messageId":"179","endLine":2,"endColumn":19},{"ruleId":"176","severity":1,"message":"186","line":16,"column":3,"nodeType":"178","messageId":"179","endLine":16,"endColumn":9},{"ruleId":"176","severity":1,"message":"188","line":18,"column":3,"nodeType":"178","messageId":"179","endLine":18,"endColumn":10},{"ruleId":"176","severity":1,"message":"189","line":19,"column":3,"nodeType":"178","messageId":"179","endLine":19,"endColumn":11},{"ruleId":"176","severity":1,"message":"192","line":2,"column":16,"nodeType":"178","messageId":"179","endLine":2,"endColumn":19},{"ruleId":"176","severity":1,"message":"186","line":16,"column":3,"nodeType":"178","messageId":"179","endLine":16,"endColumn":9},{"ruleId":"176","severity":1,"message":"188","line":18,"column":3,"nodeType":"178","messageId":"179","endLine":18,"endColumn":10},{"ruleId":"176","severity":1,"message":"189","line":19,"column":3,"nodeType":"178","messageId":"179","endLine":19,"endColumn":11},{"ruleId":"204","severity":1,"message":"205","line":9,"column":2,"nodeType":"206","messageId":"207","endLine":11,"endColumn":3},{"ruleId":"208","severity":1,"message":"209","line":14,"column":138,"nodeType":"210","messageId":"211","endLine":14,"endColumn":139,"fix":"212"},{"ruleId":"181","severity":1,"message":"182","line":43,"column":17,"nodeType":"183","endLine":43,"endColumn":75},{"ruleId":"190","severity":1,"message":"191","line":51,"column":48,"nodeType":"183","endLine":51,"endColumn":104},{"ruleId":"176","severity":1,"message":"184","line":10,"column":3,"nodeType":"178","messageId":"179","endLine":10,"endColumn":7},{"ruleId":"176","severity":1,"message":"185","line":11,"column":3,"nodeType":"178","messageId":"179","endLine":11,"endColumn":7},{"ruleId":"176","severity":1,"message":"186","line":12,"column":3,"nodeType":"178","messageId":"179","endLine":12,"endColumn":9},{"ruleId":"176","severity":1,"message":"187","line":13,"column":3,"nodeType":"178","messageId":"179","endLine":13,"endColumn":10},{"ruleId":"176","severity":1,"message":"188","line":14,"column":3,"nodeType":"178","messageId":"179","endLine":14,"endColumn":10},{"ruleId":"176","severity":1,"message":"189","line":15,"column":3,"nodeType":"178","messageId":"179","endLine":15,"endColumn":11},{"ruleId":"181","severity":1,"message":"182","line":146,"column":48,"nodeType":"183","endLine":146,"endColumn":124},{"ruleId":"190","severity":1,"message":"191","line":153,"column":41,"nodeType":"183","endLine":153,"endColumn":44},{"ruleId":"176","severity":1,"message":"184","line":10,"column":3,"nodeType":"178","messageId":"179","endLine":10,"endColumn":7},{"ruleId":"176","severity":1,"message":"185","line":11,"column":3,"nodeType":"178","messageId":"179","endLine":11,"endColumn":7},{"ruleId":"176","severity":1,"message":"186","line":12,"column":3,"nodeType":"178","messageId":"179","endLine":12,"endColumn":9},{"ruleId":"176","severity":1,"message":"187","line":13,"column":3,"nodeType":"178","messageId":"179","endLine":13,"endColumn":10},{"ruleId":"176","severity":1,"message":"188","line":14,"column":3,"nodeType":"178","messageId":"179","endLine":14,"endColumn":10},{"ruleId":"176","severity":1,"message":"189","line":15,"column":3,"nodeType":"178","messageId":"179","endLine":15,"endColumn":11},{"ruleId":"176","severity":1,"message":"213","line":98,"column":15,"nodeType":"178","messageId":"179","endLine":98,"endColumn":20},{"ruleId":"190","severity":1,"message":"191","line":99,"column":3,"nodeType":"183","endLine":99,"endColumn":6},{"ruleId":"181","severity":1,"message":"182","line":142,"column":48,"nodeType":"183","endLine":142,"endColumn":124},{"ruleId":"190","severity":1,"message":"191","line":149,"column":41,"nodeType":"183","endLine":149,"endColumn":44},{"ruleId":"176","severity":1,"message":"184","line":10,"column":3,"nodeType":"178","messageId":"179","endLine":10,"endColumn":7},{"ruleId":"176","severity":1,"message":"185","line":11,"column":3,"nodeType":"178","messageId":"179","endLine":11,"endColumn":7},{"ruleId":"176","severity":1,"message":"186","line":12,"column":3,"nodeType":"178","messageId":"179","endLine":12,"endColumn":9},{"ruleId":"176","severity":1,"message":"187","line":13,"column":3,"nodeType":"178","messageId":"179","endLine":13,"endColumn":10},{"ruleId":"176","severity":1,"message":"188","line":14,"column":3,"nodeType":"178","messageId":"179","endLine":14,"endColumn":10},{"ruleId":"176","severity":1,"message":"189","line":15,"column":3,"nodeType":"178","messageId":"179","endLine":15,"endColumn":11},{"ruleId":"176","severity":1,"message":"213","line":125,"column":15,"nodeType":"178","messageId":"179","endLine":125,"endColumn":20},{"ruleId":"190","severity":1,"message":"191","line":126,"column":3,"nodeType":"183","endLine":126,"endColumn":6},{"ruleId":"181","severity":1,"message":"182","line":176,"column":48,"nodeType":"183","endLine":176,"endColumn":124},{"ruleId":"190","severity":1,"message":"191","line":184,"column":41,"nodeType":"183","endLine":184,"endColumn":44},{"ruleId":"176","severity":1,"message":"214","line":5,"column":17,"nodeType":"178","messageId":"179","endLine":5,"endColumn":23},{"ruleId":"176","severity":1,"message":"203","line":10,"column":3,"nodeType":"178","messageId":"179","endLine":10,"endColumn":9},{"ruleId":"176","severity":1,"message":"184","line":11,"column":3,"nodeType":"178","messageId":"179","endLine":11,"endColumn":7},{"ruleId":"176","severity":1,"message":"185","line":12,"column":3,"nodeType":"178","messageId":"179","endLine":12,"endColumn":7},{"ruleId":"176","severity":1,"message":"186","line":13,"column":3,"nodeType":"178","messageId":"179","endLine":13,"endColumn":9},{"ruleId":"176","severity":1,"message":"188","line":15,"column":3,"nodeType":"178","messageId":"179","endLine":15,"endColumn":10},{"ruleId":"176","severity":1,"message":"189","line":16,"column":3,"nodeType":"178","messageId":"179","endLine":16,"endColumn":11},{"ruleId":"176","severity":1,"message":"215","line":18,"column":3,"nodeType":"178","messageId":"179","endLine":18,"endColumn":7},{"ruleId":"176","severity":1,"message":"214","line":5,"column":17,"nodeType":"178","messageId":"179","endLine":5,"endColumn":23},{"ruleId":"176","severity":1,"message":"186","line":13,"column":3,"nodeType":"178","messageId":"179","endLine":13,"endColumn":9},{"ruleId":"176","severity":1,"message":"189","line":16,"column":3,"nodeType":"178","messageId":"179","endLine":16,"endColumn":11},{"ruleId":"176","severity":1,"message":"216","line":17,"column":3,"nodeType":"178","messageId":"179","endLine":17,"endColumn":7},{"ruleId":"176","severity":1,"message":"215","line":18,"column":3,"nodeType":"178","messageId":"179","endLine":18,"endColumn":7},{"ruleId":"176","severity":1,"message":"217","line":19,"column":3,"nodeType":"178","messageId":"179","endLine":19,"endColumn":8},"no-native-reassign",["218"],"no-negated-in-lhs",["219"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'axios' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'Form' is defined but never used.","'Grid' is defined but never used.","'Header' is defined but never used.","'Message' is defined but never used.","'Segment' is defined but never used.","'Checkbox' is defined but never used.","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","'put' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-dupe-keys","Duplicate key 'redirect_del'.","ObjectExpression","Duplicate key 'redirect_edit'.","'buy' is defined but never used.","'sell' is defined but never used.","'Button' is defined but never used.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","dot-location","Expected dot to be on same line as property.","MemberExpression","expectedDotBeforeProperty",{"range":"220","text":"221"},"'extra' is assigned a value but never used.","'Moment' is defined but never used.","'Icon' is defined but never used.","'Step' is defined but never used.","'Image' is defined but never used.","no-global-assign","no-unsafe-negation",[388,392],"\n\t\t."]