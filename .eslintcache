[{"/home/kim/Desktop/bookapp/src/index.js":"1","/home/kim/Desktop/bookapp/src/App.js":"2","/home/kim/Desktop/bookapp/src/reportWebVitals.js":"3","/home/kim/Desktop/bookapp/src/Routes.js":"4","/home/kim/Desktop/bookapp/src/Pages/Home.js":"5","/home/kim/Desktop/bookapp/src/Pages/AdAll.js":"6","/home/kim/Desktop/bookapp/src/Pages/AdForm.js":"7","/home/kim/Desktop/bookapp/src/Pages/AdDetails.js":"8","/home/kim/Desktop/bookapp/src/Pages/deleteAd.js":"9","/home/kim/Desktop/bookapp/src/Pages/SignUp.js":"10","/home/kim/Desktop/bookapp/src/Pages/SignIn.js":"11","/home/kim/Desktop/bookapp/src/SideMenu.js":"12","/home/kim/Desktop/bookapp/src/Pages/AdVer.js":"13","/home/kim/Desktop/bookapp/src/Pages/Profile.js":"14"},{"size":501,"mtime":1608101233722,"results":"15","hashOfConfig":"16"},{"size":2923,"mtime":1608105825853,"results":"17","hashOfConfig":"16"},{"size":362,"mtime":1608101233722,"results":"18","hashOfConfig":"16"},{"size":2502,"mtime":1608557279562,"results":"19","hashOfConfig":"16"},{"size":3384,"mtime":1608567329747,"results":"20","hashOfConfig":"16"},{"size":4939,"mtime":1608560252719,"results":"21","hashOfConfig":"16"},{"size":7165,"mtime":1608554375464,"results":"22","hashOfConfig":"16"},{"size":8121,"mtime":1608193910132,"results":"23","hashOfConfig":"16"},{"size":4394,"mtime":1608194595476,"results":"24","hashOfConfig":"16"},{"size":8435,"mtime":1608570657434,"results":"25","hashOfConfig":"16"},{"size":3989,"mtime":1608188507585,"results":"26","hashOfConfig":"16"},{"size":2739,"mtime":1608560365672,"results":"27","hashOfConfig":"16"},{"size":5677,"mtime":1608556620347,"results":"28","hashOfConfig":"16"},{"size":5177,"mtime":1608558616870,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"1jz0gbp",{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"32"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"44","messages":"45","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"32"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"32"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"32"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"55","messages":"56","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"32"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":1,"source":null},{"filePath":"60","messages":"61","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"32"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/kim/Desktop/bookapp/src/index.js",[],["65","66"],"/home/kim/Desktop/bookapp/src/App.js",["67"],"import logo from './logo.svg';\nimport './App.css';\nimport Routes from './Routes';\nimport React, { Component } from \"react\";\nimport {Helmet} from 'react-helmet';\nimport axios from 'axios'\n\nexport default class App extends Component{\n\n\tconstructor (props) {\n\t\tsuper(props);\t\n\t\tthis.state = {\n\t\t\tlogged_in: localStorage.getItem('token') ? true : false,\n\t\t\tusername: '',\n\t\t}\n\t\tconsole.log(this.state.logged_in);\n\t};\n\n\tis_loggedin() {\n\t\treturn localStorage.getItem('token') ? true : false\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.setState({logged_in: true});\n\t\tif (this.state.logged_in) {\n\t\t\tfetch('http://localhost:8000/curuser/', {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `JWT ${localStorage.getItem('token')} `\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => res.json())\n\t\t\t.then(json=>{\n\t\t\t\tthis.setState({username:json.username});\n\t\t\t});\n\n\t\t};\n\t};\n\n\thandle_login(users, passs) {\n\t\t\n\n\t  axios \n\t      .post(\"http://localhost:8000/api/asknima\", { \n\t          user: users,\n\t          pass: passs,\n\t      }) \n        .then((res) => { \n        \tlocalStorage.setItem('token', res.token);\n        \tthis.setState({\n        \t\tlogged_in: true,\n        \t\tusername: res.user.username\n        \t});\n            return res;\n            })\n\t      .catch((err) => {\n\t      \t\n\t        return err;\n\t        \n\t      }); \n\n\t}\n\n\thandle_logout() {\n\t\tlocalStorage.removeItem('token');\n\t\tthis.setState({logged_in:false, username:''});\n\t}\n\n\thandle_refresh() {\n\t\taxios.post(\"http://localhost:8000/api/token/refresh\", { \n\t          refresh: localStorage.getItem('refresh_token')\n\t      }).then((res) => {localStorage.setItem('token', res.access)})\n\t}\n\n\n\trender() {\n  return (\n     <div className=\"App\">\n     \t<Helmet>\n\t     \t<meta charset=\"utf-8\"/>\n\t\t    <meta content=\"IE=edge,chrome=1\" http-equiv=\"X-UA-Compatible\"/>\n\t\t    <meta\n\t\t            name=\"viewport\"\n\t\t            content=\"width=device-width, initial-scale=1, maximum-scale=2, user-scalable=no\"\n\t\t    />\n\t\t    <meta\n\t\t            name=\"description\"\n\t\t            content=\"Semantic-UI-Forest, collection of design, themes and templates for Semantic-UI.\"\n\t\t    />\n\t\t    <meta name=\"keywords\" content=\"Semantic-UI, Theme, Design, Template\"/>\n\t\t    <meta name=\"author\" content=\"PPType\"/>\n\t\t    <meta name=\"theme-color\" content=\"#ffffff\"/>\n\t\t    <title> ketabbaz </title>\n\t\t    <link\n\t\t            rel=\"stylesheet\"\n\t\t            href=\"https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css\"\n\t\t            type=\"text/css\"\n\t\t    />\n\t\t    <link rel=\"stylesheet\" type=\"text/css\" href=\"./public/css/base.css\"/>\n\t\t    <link rel=\"stylesheet\" type=\"text/css\" href=\"./public/css/fontiran.css\"/>\n\t\t    <link rel=\"stylesheet\" type=\"text/css\" href=\"./public/css/fonts.css\"/>\n\t\t    <link rel=\"stylesheet\" type=\"text/css\" href=\"./public/css/semantic.css\"/>\n     \t</Helmet>\n      \t<Routes logged_in={this.state.logged_in? \"t\": \"f\"} is_loggedin={this.is_loggedin} handle_refresh={this.handle_refresh} />\n    </div>\n  )};\n}\n\n","/home/kim/Desktop/bookapp/src/reportWebVitals.js",[],"/home/kim/Desktop/bookapp/src/Routes.js",[],"/home/kim/Desktop/bookapp/src/Pages/Home.js",["68","69","70"],"/home/kim/Desktop/bookapp/src/Pages/AdAll.js",["71","72","73","74","75","76","77"],"/home/kim/Desktop/bookapp/src/Pages/AdForm.js",["78","79"],"import React, { Component } from \"react\";\nimport axios, {put} from \"axios\";\n\nimport { Redirect } from 'react-router';\n\nimport SideMenu from './../SideMenu';\n\n\nimport \"semantic-ui-css/semantic.min.css\";\n\n\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Segment,\n  Checkbox\n} from \"semantic-ui-react\";\n\nimport \"./new_ad.css\"\n\nexport default class AdForm extends Component {\n\tstate = {\n\t    bookName:\"\",\n\t    authorName:\"\",\n\t    image: \"/images/books.jpg\",\n\t    description:\"\",\n\t    error_message:\"\",\n      price: 0,\n\t    for_sale: false,\n      redirect: false,\n      redirectBack: false,\n      redirectAcc: false,\n      id: 0,\n  \t};\n\n  \tfileInputRef = React.createRef();\n\n  \tcomponentDidMount() {\n  \t\tif (this.props.classIn===\"editad\") {\n        if (this.props.location && this.props.location.state && this.props.location.state.adId) {\n            this.setState({id:this.props.location.state.adId})\n        }\n  \t\t\tthis.setState({\n          price: 20,\n  \t\t\t\tbookName: \"جنایات و مکافات\",\n  \t\t\t\tauthorName: \"داستایوفسکی\",\n  \t\t\t\timage: \"باید این رو درست کنم\",\n  \t\t\t\tdescription: \"وضیحات\",\n  \t\t\t\tfor_sale: true,\n          id: this.props.location.state? this.props.location.state.adId:0\n  \t\t\t})\n        axios.get(\"http://localhost:8000/api/v1/book-advertise/post/\" + this.state.id, { headers: {'Authorization': 'Bearer  ' + localStorage.getItem('token')}}).then((res)=>{\n          this.setState({price:res.price, bookName: res.title, authorName: res.bookAuthor, for_sale: (res.ad_type === \"sell\"? true: false), description: res.description, \n            image: (res.poster? \"default addr\" + res.poster: \"/images/default.jpg\")})\n        }).catch((err)=>{});\n  \t\t}\n  \t};\n\n\n\tfileChange = (e) => {\n\t    this.setState({ image: e.target.files[0] }, () => {\n\t      console.log(\"File uploaded --->\", this.state.image);\n\t    });\n  \t};\n\n  \tfileUpload = file => {\n\t  \tconst url = \"http://localhost:8000/api/asknima\";\n\t    const formData = new FormData();\n\t    formData.append(\"file\", file);\n\n\t    const config = {\n\t      headers: {\n\t        \"Content-type\": \"multipart/form-data\"\n\t      }\n\t    };\n\t    return put(url, formData, config);\n  \t};\n\n  \thandleToggle = (e) => {\n  \t\tthis.setState ({\n  \t\t\tfor_sale: !this.state.for_sale\n  \t\t})\n  \t};\n\n\thandleInput = (e) => { \n\t\t\n\t    this.setState({ \n\t        [e.target.name]: e.target.value, \n\t    }); \n\t\t\n\t}; \n  renderRedirectBack = (e) => {\n        if (this.state.redirectBack) {\n            return (\n            <Redirect to={{\n                                          pathname: '/ad/detail',\n                                          state: {\n                                            adId: this.state.adId\n                                          }\n                                        }} />\n            )\n        }\n        if (this.state.redirect) {\n            return (\n                <Redirect to={{\n                    pathname:'/ad/',\n                }} /> )\n        }\n        if (this.state.redirectAcc) {\n          console.log(\"redirecting\")\n            return (\n            <Redirect to={{\n                                          pathname: '/acc/',\n                                          state: {\n                                            error_message: 'برای دیدن صفحه‌ی مورد نظر باید ابتدا وارد شوید.'\n                                          }\n                                        }} />\n            )\n        }\n    };\n\thandleSubmit = (e) => { \n\t  e.preventDefault(); \n\t  this.fileUpload(this.state.image).then(response => {\n      \tconsole.log(response.data);\n    });\n    var url = \"\" + this.state.id;\n    if (this.props.classIn === \"editad\") { url = \"\"} \n\t  axios \n\t      .post(url, { \n\t          bookName: this.state.bookName, \n\t          authorName: this.state.authorName,\n\t          image: this.state.image,\n\t          description: this.state.description,\n\t          for_sale: this.state.for_sale,\n            price: this.state.price\n\t      }, { headers: {'Authorization': 'Bearer ' + localStorage.getItem('token')}}) \n        .then((res) => { \n            if(this.props.classIn===\"editad\") {\n              this.setState({\n                redirectBack: true\n              })\n            } else {\n              this.setState({\n                redirect: true\n              })\n            }\n            })\n\t      .catch((err) => {\n\t        if (err.response && err.response.status === 408) {\n            this.props.handle_refresh();\n            this.handleSubmit(e);\n          } else {\n\t        this.setState({redirectAcc: true}); }\n\t      }); \n\n\t}; \n\trender () {\n\t\treturn (\n\n\t\t\t<div  className=\"App\">\n\n\t\t\t\t<SideMenu classIn={this.props.classIn} logged_in={this.props.logged_in} handle_logout={this.props.handle_logout}/>\n\t\t\t\t<div class=\"ui container\">\n\n        <div class=\"ui message\">\n            <h1 class=\"ui huge header\">کتاب‌باز</h1>\n            <p class=\"lead\">\n                مکانی برای تبادل کتاب های شما\n            </p>\n        </div>\n    </div>\n    <br />\n    <br />\n\n    <Grid textAlign=\"center\" verticalAlign=\"middle\" dir=\"rtl\">\n    <Grid.Column style={{ maxWidth: 700, backgroundColor:\"#e0e0eb\"}} >\n           \n            \n    <Form onSubmit={this.handleSubmit} class=\"ui right\">\n    <Form.Field>\n      <label style={{textAlign:\"right\"}}>تصویر:</label>\n      <Form.Input\n        placeHolder= \"تصویر\"\n      \tref={this.fileInputRef}\n      \ttype=\"file\"\n      \tname=\"image\"\n      \tonChange= {this.fileChange}\n      />\n    </Form.Field>\n    <Form.Field>\n\n      <label style={{textAlign:\"right\"}}>نام کتاب:</label>\n      <input\n        placeholder= \"نام کتاب\"\n      \tname=\"bookName\"\n      \tvalue={this.state.bookName}\n      \tonChange= {this.handleInput}\n\n      />\n    </Form.Field>\n    <Form.Field>\n      <label style={{textAlign:\"right\"}}>نام نویسنده:</label>\n      <input\n        dir=\"rtl\"\n      \tname=\"authorName\"\n      \tvalue={this.state.authorName}\n      \tonChange= {this.handleInput}\n        placeholder=\"نام نویسنده\"\n      />\n    </Form.Field>\n    <Form.Field>\n      <label style={{textAlign:\"right\"}}>توضیحات:</label>\n      <Form.TextArea \n      \tname=\"description\"\n      \tvalue={this.state.description}\n      \tonChange= {this.handleInput}\n        placeholder=\"توضیحات\"\n      /> \n    </Form.Field>\n    {this.state.for_sale && <Form.Field>\n      <label style={{textAlign:\"right\"}}>قیمت:</label>\n      <input\n        dir=\"rtl\"\n        name=\"price\"\n        value={this.state.price}\n        onChange= {this.handleInput}\n        placeholder=\"نام نویسنده\"\n      />\n    </Form.Field>}\n    <Form.Field style={{textAlign:\"right\"}}>\n      <Checkbox label='فروشی' name=\"for_sale\" checked={this.state.for_sale} onChange={this.handleToggle.bind(this)}/>\n    </Form.Field>\n\n    <Button type='submit' color=\"green\" >ثبت</Button>\n\n  </Form>\n  {this.renderRedirectBack()}\n {this.state.error_message && <Message\n      error\n      header='مشکل در ثبت اطلاعات'\n      content= {this.state.error_message}\n    />}\n\n                      </Grid.Column>\n\n        </Grid>\n    </div>\n\t\t\t)\n\t}\n}","/home/kim/Desktop/bookapp/src/Pages/AdDetails.js",["80","81","82","83","84","85","86","87"],"import React, {Component} from \"react\";\nimport axios from \"axios\";\nimport SideMenu from './../SideMenu';\nimport { Redirect } from 'react-router';\n\nimport \"./AdDetails.css\"\n\nexport default class AdDetails extends Component {\n\t\n    state = {\n        id: 0,\n        title: \"طراحی الگوریتم\",\n        author: \"دکتر محمد ابراهیم ابوکاظمی\",\n        image: \"/images/default.jpg\",\n        description: \"قیمت بسیار ارزان - ویرایش چهارم\",\n        sell: \"sell\",\n        redirect: false,\n        redirect_edit: false,\n        redirect_del: false,\n        price: 123,\n        redirec_ad: false,\n\n        user_name: 'علی حیدری',\n        user_number: '09121406265',\n        email: 'yazdanikimia@gmail.com',\n\n        \n\n    };\n\n    componentDidMount = () => {\n        if (this.props.location && this.props.location.state && this.props.location.state.adId) {\n            this.setState({id:this.props.location.state.adId})\n        }\n        else {(this.setState({redirect_ad:true})); return;} \n        axios.post(\"http://127.0.0.1:8000/api/token/refresh/\", { \n              refresh: localStorage.getItem('refresh_token')\n          }).then((res) => {\n            localStorage.setItem('token', res.data.access);\n          }).catch((err) => {\n            // this.setState({redirect_acc:true})\n            return;\n          });\n        axios\n            .get(\"http://localhost:8000/api/v1/book-advertise/post/\" + this.state.id, { headers: {'Authorization': 'Bearer  ' + localStorage.getItem('token')}} )\n            .then((res) => {\n                this.setState({ title: res.title, author: res.book_author, image: res.poster? (\"default addr\" + res.poster): \"/images/default.jpg\",\n                description: res.description, sell: res.ad_type, price: res.price, user_name: res.author.username,\n                user_number: res.author.number, email: res.author.email})\n            })\n            .catch((err) => {\n                if (err.response && err.response.status === 408) {\n            \t   // this.setState({redirect_acc:true})\n                } else {\n                    // this.setState({redirect_ad:true})\n                }\n            });\n\n    };\n\n\n\n    delete_ad = () => {\n        this.setState({redirect_del:true})\n    }\n\n    edit_ad = () => {\n        this.setState({redirect_edit:true})\n    }\n\n\n    renderRedirectBack = (e) => {\n        if (this.state.redirect) {\n        \tconsole.log(\"redirecting\")\n            return (\n            <Redirect to={{\n                                          pathname: '/acc/',\n                                          state: {\n                                            error_message: 'برای دیدن صفحه‌ی مورد نظر باید ابتدا وارد شوید.'\n                                          }\n                                        }} />\n            )\n        }\n        if (this.state.redirect_edit) {\n            return (\n                <Redirect to={{\n                                          pathname: '/ad/edit/',\n                                          state: {\n                                            adId: this.id\n                                          }\n                                        }} />\n                )\n        }\n        if (this.state.redirect_ad) {\n            return (\n                 <Redirect to={{pathname: '/ad/'}} />\n                )\n        }\n        if (this.state.redirect_del) {\n            return (\n                <Redirect to={{\n                                          pathname: '/ad/del/',\n                                          state: {\n                                            adId: this.id,\n                                            bookName: this.title,\n                                          }\n                                        }} />\n                )\n        }\n    };\n\n    render() {\n        function buy(props) {\n            return <a>خرید</a>;\n        }\n\n        function sell(props) {\n            return <a>فروش</a>;\n        }\n\n        return (\n            <div className=\"App\">\n                <SideMenu logged_in={this.props.logged_in} handle_logout={this.props.handle_logout}/>\n\n                <link rel=\"stylesheet\" type=\"text/css\" href=\"{% 'AdDetails.css' %}\"/>\n\n                <div className=\"ui container\">\n                    <div className=\"ui message\">\n                        <h1 className=\"ui huge header\">کتاب‌باز</h1>\n                        <p style={{fontFamily: 'iransansdn', fontWeight: 'bold'}} className=\"lead\">\n                            مکانی برای تبادل کتاب های شما\n                        </p>\n                    </div>\n                </div>\n\n                <div className=\"ui divider\"/>\n                <div className=\"ui container\">\n                    <div className=\"ui relaxed divided items\">\n\n                        {/*  author title + sell/buy */}\n                        <div className=\"item\">\n                            <div className=\"content\" dir=\"rtl\" style={{textAlign: \"right\"}}>\n                                <a className=\"ui large header\"> {this.state.title}</a>\n                                <div className=\"meta\" dir=\"rtl\">\n                                    {this.state.sell == \"sell\" ? <div className=\"ui label\">فروش</div> :\n                                        <div className=\"ui label\">خرید</div>}\n                                    <a> {this.state.author} </a>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* other information about the book */}\n                        <div className=\"item\">\n                            {/* book image */}\n                            <div className=\"ui medium image\">\n                                <img className=\"info_container__image\" src={this.state.image} alt=\"image\"/>\n                            </div>\n                            {/* general information */}\n\n                            <div className=\"ui text container float right\">\n                                <div className=\"ui segments\" style={{textAlign: \"right\"}}>\n                                    <div className=\"ui segment\" dir=\"rtl\">\n                                        <strong>آگهی‌دهنده: {this.state.user_name}</strong>\n                                    </div>\n                                    <div className=\"ui segment\" dir=\"rtl\">\n                                        <strong>شماره تماس: {this.state.user_number}</strong>\n                                    </div>\n                                    <div className=\"ui segment\" dir=\"rtl\">\n                                        <strong>ایمیل: {this.state.email}</strong>\n                                    </div>\n                                    {this.state.sell==='sell'? <div className=\"ui segment\" dir=\"rtl\">\n                                        <strong>قیمت: {this.state.price} تومان</strong> </div>: ''}\n                                    \n                                </div>\n                            </div>\n                        </div>\n                        {/* long description */}\n                        <div className=\"item\" dir=\"rtl\">\n                            <div className=\"description\" dir=\"rtl\">\n                                {this.state.description}\n                            </div>\n\n                        </div>\n\n                    </div>\n\n                    <div className=\"ui divider\"/>\n                    {/* action buttons */}\n                    <div className=\"spaced\" dir=\"rtl\">\n                        <button className=\"green ui button\" onClick={this.edit_ad.bind(this)}>\n                            ویرایش\n                        </button>\n                        <button className=\"red ui button\" onClick={this.delete_ad.bind(this)}>\n                            حذف\n                        </button>\n\n                    </div>\n                    {this.renderRedirectBack()}\n                </div>\n\n            </div>\n\n        );\n    }\n\n}\n\n","/home/kim/Desktop/bookapp/src/Pages/deleteAd.js",["88","89","90","91","92","93"],"import React, { Component } from \"react\";\nimport axios from \"axios\"; \nimport { Redirect } from 'react-router';\n\nimport './deleteAd.css'\nimport SideMenu from './../SideMenu';\nimport \"semantic-ui-css/semantic.min.css\";\n\n\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Segment,\n  Checkbox\n} from \"semantic-ui-react\";\n\n\nexport default class DeleteAd extends Component {\n\n    state = {\n        id: 0,\n        redirectBack:false,\n        redirect: false,\n        redirectAcc: false,\n        error_message: '',\n\n    };\n\n\n\thandleDelete = (e) => {\n        e.preventDefault(); \n        var url = \"http://localhost:8000/api/asknima/\" + this.props.adId;\n\n\n        axios.get(url\n             , { headers: {'Authorization': 'Bearer ' + localStorage.getItem('token')}}\n          ).then((res) => { \n              this.setState({ \n                  redirect: true\n              }); \n\n        }).catch((err) => {\n            \n                if (err.response && err.response.status === 408) {\n                   this.setState({redirectAcc:true})\n                } else {\n                    this.setState({redirectBack:true, error_message: err.response.data.message})\n                }\n        })\n\t};\n\n    redirectHandlerBack = (val) => {\n        this.setState({\n            redirectBack: true,\n        });\n    };\n\n    componentDidMount() {\n        if (this.props.location && this.props.location.state && this.props.location.state.adId) {\n            this.setState({id:this.props.location.state.adId})\n        }\n        else {(this.setState({redirect:true})); return;} \n        axios.post(\"http://127.0.0.1:8000/api/token/refresh/\", { \n              refresh: localStorage.getItem('refresh_token')\n          }).then((res) => {\n            localStorage.setItem('token', res.data.access);\n          }).catch((err) => {\n            this.setState({redirect_acc:true})\n            return;\n          });\n    };\n\n    renderRedirectBack = (e) => {\n        if (this.state.redirectBack) {\n            return (\n            <Redirect to={{\n                                          pathname: '/ad/detail',\n                                          state: {\n                                            adId: this.props.adId\n                                          }\n                                        }} />\n            )\n        }\n        if (this.state.redirect) {\n            return (\n                <Redirect to={{\n                    pathname:'/ad/',\n                }} /> )\n        }\n        if (this.state.redirectAcc) {\n            console.log(\"redirecting\")\n            return (\n            <Redirect to={{\n                                          pathname: '/acc/',\n                                          state: {\n                                            error_message: 'برای دیدن صفحه‌ی مورد نظر باید ابتدا وارد شوید.'\n                                          }\n                                        }} />\n            )\n        }\n    };\n\trender() {\n\t\treturn (\n\t\t<div className=\"App\">\n\t\t<SideMenu logged_in={this.props.logged_in} handle_logout={this.props.handle_logout}/>\n\t\t<div class=\"ui container\">\n\n        <div class=\"ui message\">\n            <h1 class=\"ui huge header\">کتاب‌باز</h1>\n            <p class=\"lead\">\n                مکانی برای تبادل کتاب های شما\n            </p>\n        </div>\n    </div>\n    <br />\n    <div class=\"ui divider\"></div>\n    <div class=\"ui text container float center\">\n        <div class=\"ui segment\">\n            <form class=\"ui form\">\n                <p style={{fontSize:20+'px', textAlign: 'right', dir:\"rtl\"}}>\n                    آیا از حذف کتاب \n                    {' ' + (this.props.location && this.props.location.state && this.props.location.state.bookName? this.props.location.state.bookName : '') + ' '}\n                    اطمینان دارید؟\n                </p>\n                <button class=\"red ui button\" onClick={this.handleDelete.bind(this)}>حذف</button>\n                <button class=\"ui button\" onClick={this.redirectHandlerBack.bind(this)}>بازگشت</button>\n            </form>\n             {this.state.error_message && <Message\n      error\n      header='درخواست انجام نشد'\n      content= {this.state.error_message}\n    />}\n        </div>\n       \n    </div>\n\t\t{this.renderRedirectBack()}\n    </div>\n\t\t\t);\n\t};\n    }\n\n\n\t","/home/kim/Desktop/bookapp/src/Pages/SignUp.js",["94","95","96","97"],"/home/kim/Desktop/bookapp/src/Pages/SignIn.js",["98","99","100","101"],"import React, { Component } from \"react\";\nimport axios, {put} from \"axios\";\n\nimport { Redirect } from 'react-router';\n\nimport SideMenu from './../SideMenu';\n\n\nimport \"semantic-ui-css/semantic.min.css\";\n\n\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Segment,\n  Checkbox\n} from \"semantic-ui-react\";\n\nimport \"./new_ad.css\"\n\nexport default class SignIn extends Component {\n\tstate = {\n\t    user: \"\",\n      pass: \"\",\n      redirect: false,\n      redirectBack: false,\n      error_message: this.props.location.state? this.props.location.state.error_message:'',\n  \t};\n\n  componentDidMount(props) {\n      axios.post(\"http://127.0.0.1:8000/api/token/refresh/\", { \n              refresh: localStorage.getItem('refresh_token')\n          }).then((res) => {\n        localStorage.setItem('token', res.data.access);\n        this.setState({redirect:true})\n          }).catch((err) => {\n\n      });\n  };\n\n\n\thandleInput = (e) => { \n\t\t\n\t    this.setState({ \n\t        [e.target.name]: e.target.value, \n\t    }); \n\t\t\n\t}; \n  redirectToReg = (e) => {\n    this.setState({\n      redirectBack: true\n    })\n  };\n  renderRedirectBack = (e) => {\n        if (this.state.redirectBack) {\n            return (\n            <Redirect to={{ pathname: '/acc/register' }} />\n            )\n        }\n        if (this.state.redirect) {\n            return (\n                <Redirect to={{\n                    pathname:'/ad/',\n                }} /> )\n        }\n    };\n\thandleSubmit = (e) => { \n\t  e.preventDefault(); \n\n     axios \n        .post(\"http://localhost:8000/api/v1/account/login/\", { \n            username: this.state.user,\n            password: this.state.pass,\n        }) \n        .then((res) => { \n          localStorage.setItem('token', res.data.access_token);\n          localStorage.setItem('refresh_token', res.data.refresh_token);\n          this.setState({redirect:true});\n            })\n        .catch((err) => {\n          if (err.response && err.response.data && err.response.data.message) {\n            this.setState({error_message: err.response.data.message})\n          }else {\n          this.setState({error_message:'متاسفانه اتصال برقرار نشد.'});\n        }\n          \n        }); \n\n      console.log(localStorage.getItem('token'));\n      console.log(localStorage.getItem('refresh_token'));\n\t}; \n\trender () {\n\t\treturn (\n\n\t\t\t<div className=\"App\">\n\n\t\t\t\t<SideMenu classIn=\"login\" {...this.props}/>\n\t\t\t\t<div class=\"ui container\">\n\n        <div class=\"ui message\">\n            <h1 class=\"ui huge header\">کتاب‌باز</h1>\n            <p class=\"lead\">\n                مکانی برای تبادل کتاب های شما\n            </p>\n        </div>\n    </div>\n    <br />\n    <br />\n\n    <Grid textAlign=\"center\" verticalAlign=\"middle\" dir=\"rtl\" >\n    <Grid.Column style={{ maxWidth: 700, backgroundColor:\"#e0e0eb\"}} >\n           \n            \n    <Form onSubmit={this.handleSubmit} class=\"ui right\">\n    \n    <Form.Field>\n\n      <label style={{textAlign:\"right\"}}>نام کاربری:</label>\n      <input\n      \tname=\"user\"\n      \tvalue={this.state.user}\n      \tonChange= {this.handleInput}\n        placeholder= \"نام کاربری\"\n\n      />\n    </Form.Field>\n    <Form.Field>\n      <label style={{textAlign:\"right\"}}>رمز عبور:</label>\n      <input\n        type=\"password\"\n        dir=\"rtl\"\n      \tname=\"pass\"\n      \tvalue={this.state.pass}\n      \tonChange= {this.handleInput}\n        placeholder=\"زمر عبور\"\n      />\n    </Form.Field>\n\n\n    \n\n    <Button.Group>\n    <Button primary onClick={this.redirectToReg.bind(this)}>ساخت اکانت جدید</Button>\n    <Button.Or text='یا' />\n    <Button positive onClick={this.handleSubmit}>ورود به اکانت</Button>\n  </Button.Group>\n\n  </Form>\n  {this.renderRedirectBack()}\n {this.state.error_message && <Message\n      error\n      header='درخواست انجام نشد'\n      content= {this.state.error_message}\n    />}\n\n                      </Grid.Column>\n\n        </Grid>\n    </div>\n\t\t\t)\n\t}\n}","/home/kim/Desktop/bookapp/src/SideMenu.js",["102","103","104","105"],"/home/kim/Desktop/bookapp/src/Pages/AdVer.js",["106","107","108","109","110","111","112"],"import React, {Component} from \"react\";\nimport axios from \"axios\";\nimport SideMenu from './../SideMenu';\nimport { Redirect } from 'react-router';\n// import './AddAll.css'\nimport 'semantic-ui-css/semantic.min.css';\n\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Segment,\n  Checkbox\n} from \"semantic-ui-react\";\n\n\nexport default class AdVer extends Component {\n    state = {\n        lists: [{\n            id: 1,\n            title: \"طراحی الگوریتم\",\n            author: [\"ریچارد نیپولیتان\"],\n            image: \"/images/default.jpg\",\n            description: \"قیمت بسیار ارزان - ویرایش چهارم\",\n            sell: \"buy\",\n            price: 0\n\n        },\n            {\n                id: 2,\n                title: \"هالیدی۱ \",\n                author: \"دکتر محمد ابراهیم ابوکاظمی\",\n                image: \"/images/default.jpg\",\n                description: \"کتاب هالیدی ۱ مخصوص درس فیزیک ۱ ویرایش هشتم قیمت مناسب بسیار تمیز\",\n                sell: \"sell\",\n                price: 24000,\n            }],\n        redirect: false,\n        topass: 1,\n        redirectall: false,\n\n    };\n\n    redirectHandler = (val) => {\n         axios\n            .get(\"http://localhost:8000/api/v1/book-advertise/post/\" + val.target.name, { headers: {'Authorization': 'Bearer  ' + localStorage.getItem('token')}})\n            .then((res) => {\n               this.setState({\n            redirect: true,\n            topass: val.target.name\n        });\n\n            })\n            .catch((err) => {\n                // this.setState({redirectall:true})\n                \n            });\n    \tthis.setState({\n    \t\tredirect: true,\n    \t\ttopass: val.target.name\n    \t});\n    };\n\n    renderRedirect = (e) => {\n    \tif (this.state.redirect) {\n    \t    return (\n    \t\t<Redirect to={{\n\t\t\t\t\t\t\t\t\t\t  pathname: '/ad/ver',\n\t\t\t\t\t\t\t\t\t\t}} />\n\n    \t\t)\n    \t}\n        if (this.state.redirectall) {\n            return (\n            <Redirect to={{\n                                          pathname: '/ad/',\n                                        }} />\n\n            )\n\n        }\n    }\n\n    componentDidMount = () => {\n        axios\n            .get(\"http://localhost:8000/api/v1/book-advertise/post/\", { headers: {'Authorization': 'Bearer  ' + localStorage.getItem('token')}})\n            .then((res) => {\n                var a = this.state.list\n                for (var i = 0; i < res.data.length; i++) {\n                    a.push({id: res.data[i].id, title: res.data[i].title, author: res.data[i].author__username,\n                        image:res.data[i].image? (\"default addr\" + res.data[i].poster): \"/images/default.jpg\",\n                        description: res.data[i].description, sell: res.data[i].sell, price: (res.data[i].price? res.data[i].price: 0)\n                    })\n                }\n                console.log(a)\n                this.setState({\n                    list: a\n                })\n            })\n            .catch((err) => {\n                // this.setState({redirectall:true})\n                \n            });\n    };\n    render() {\n        return (\n            <div className=\"App\">\n                <SideMenu classIn={\"adver\"} />\n                <div className=\"ui container\">\n\n                    <div className=\"ui message\">\n                        <h1 className=\"ui huge header\">کتاب‌باز</h1>\n                        <p className=\"lead\">\n                            مکانی برای تبادل کتاب های شما\n                        </p>\n                    </div>\n                </div>\n                <br/>\n                <div className=\"ui container\" dir=\"ltr\">\n                    <div className=\"ui relaxed divided items\">\n                        {this.state.lists.map((ad) => (\n                            <div key={{ad}} className=\"item\">\n                                <div className=\"ui small image\">\n                                    <img src={ad.image} alt=\"Cinque Terre\" width=\"600\" height=\"400\"/>\n                                </div>\n                                <div className=\"content\" style={{textAlign:\"right\"}}>\n\n                                    <a target=\"_blank\" href=\"/ads/\" className=\"header\" dir=\"rtl\" >{ad.title}</a>\n\n                                    <div className=\"meta\">\n                                        <a>{ad.author}</a>\n                                    </div>\n\n                                    <div className=\"description\">{ad.description}</div>\n                                    <br />\n                                    <div className=\"ui label\">{ad.sell === 'sell'? 'فروش': 'خرید'}</div>\n                                    {ad.sell === 'sell' && <div className=\"ui label\" dir=\"rtl\">  {ad.price} تومان </div>}\n                                    <div className=\"extra\">\n                                     <Button target=\"_blank\" name={ad.id} onClick={this.redirectHandler.bind(this)}\n                                           className=\"ui right floated primary button\">\n                                            تایید آگهی\n                                            <i className=\"right chevron icon\"></i>\n                                       </Button>\n                                        \n\n                                    </div>\n                                </div>\n                            </div>\n\n\n                        ))}\n                    </div>\n                    {this.renderRedirect()}\n                </div>\n\n\n                <div className=\"clearfix\"></div>\n\n            </div>\n        )\n    }\n}","/home/kim/Desktop/bookapp/src/Pages/Profile.js",["113","114","115","116","117","118","119"],{"ruleId":"120","replacedBy":"121"},{"ruleId":"122","replacedBy":"123"},{"ruleId":"124","severity":1,"message":"125","line":1,"column":8,"nodeType":"126","messageId":"127","endLine":1,"endColumn":12},{"ruleId":"124","severity":1,"message":"128","line":2,"column":8,"nodeType":"126","messageId":"127","endLine":2,"endColumn":13},{"ruleId":"129","severity":1,"message":"130","line":39,"column":25,"nodeType":"131","endLine":39,"endColumn":101},{"ruleId":"129","severity":1,"message":"130","line":64,"column":9,"nodeType":"131","endLine":64,"endColumn":120},{"ruleId":"124","severity":1,"message":"132","line":10,"column":3,"nodeType":"126","messageId":"127","endLine":10,"endColumn":7},{"ruleId":"124","severity":1,"message":"133","line":11,"column":3,"nodeType":"126","messageId":"127","endLine":11,"endColumn":7},{"ruleId":"124","severity":1,"message":"134","line":12,"column":3,"nodeType":"126","messageId":"127","endLine":12,"endColumn":9},{"ruleId":"124","severity":1,"message":"135","line":13,"column":3,"nodeType":"126","messageId":"127","endLine":13,"endColumn":10},{"ruleId":"124","severity":1,"message":"136","line":14,"column":3,"nodeType":"126","messageId":"127","endLine":14,"endColumn":10},{"ruleId":"124","severity":1,"message":"137","line":15,"column":3,"nodeType":"126","messageId":"127","endLine":15,"endColumn":11},{"ruleId":"138","severity":1,"message":"139","line":110,"column":41,"nodeType":"131","endLine":110,"endColumn":44},{"ruleId":"124","severity":1,"message":"134","line":16,"column":3,"nodeType":"126","messageId":"127","endLine":16,"endColumn":9},{"ruleId":"124","severity":1,"message":"136","line":18,"column":3,"nodeType":"126","messageId":"127","endLine":18,"endColumn":10},{"ruleId":"124","severity":1,"message":"140","line":113,"column":18,"nodeType":"126","messageId":"127","endLine":113,"endColumn":21},{"ruleId":"138","severity":1,"message":"139","line":114,"column":20,"nodeType":"131","endLine":114,"endColumn":23},{"ruleId":"124","severity":1,"message":"141","line":117,"column":18,"nodeType":"126","messageId":"127","endLine":117,"endColumn":22},{"ruleId":"138","severity":1,"message":"139","line":118,"column":20,"nodeType":"131","endLine":118,"endColumn":23},{"ruleId":"138","severity":1,"message":"139","line":143,"column":33,"nodeType":"131","endLine":143,"endColumn":64},{"ruleId":"142","severity":1,"message":"143","line":145,"column":54,"nodeType":"144","messageId":"145","endLine":145,"endColumn":56},{"ruleId":"138","severity":1,"message":"139","line":147,"column":37,"nodeType":"131","endLine":147,"endColumn":40},{"ruleId":"146","severity":1,"message":"147","line":156,"column":33,"nodeType":"131","endLine":156,"endColumn":108},{"ruleId":"124","severity":1,"message":"148","line":11,"column":3,"nodeType":"126","messageId":"127","endLine":11,"endColumn":9},{"ruleId":"124","severity":1,"message":"132","line":12,"column":3,"nodeType":"126","messageId":"127","endLine":12,"endColumn":7},{"ruleId":"124","severity":1,"message":"133","line":13,"column":3,"nodeType":"126","messageId":"127","endLine":13,"endColumn":7},{"ruleId":"124","severity":1,"message":"134","line":14,"column":3,"nodeType":"126","messageId":"127","endLine":14,"endColumn":9},{"ruleId":"124","severity":1,"message":"136","line":16,"column":3,"nodeType":"126","messageId":"127","endLine":16,"endColumn":10},{"ruleId":"124","severity":1,"message":"137","line":17,"column":3,"nodeType":"126","messageId":"127","endLine":17,"endColumn":11},{"ruleId":"124","severity":1,"message":"134","line":16,"column":3,"nodeType":"126","messageId":"127","endLine":16,"endColumn":9},{"ruleId":"124","severity":1,"message":"136","line":18,"column":3,"nodeType":"126","messageId":"127","endLine":18,"endColumn":10},{"ruleId":"124","severity":1,"message":"137","line":19,"column":3,"nodeType":"126","messageId":"127","endLine":19,"endColumn":11},{"ruleId":"129","severity":1,"message":"130","line":217,"column":42,"nodeType":"131","endLine":217,"endColumn":126},{"ruleId":"124","severity":1,"message":"149","line":2,"column":16,"nodeType":"126","messageId":"127","endLine":2,"endColumn":19},{"ruleId":"124","severity":1,"message":"134","line":16,"column":3,"nodeType":"126","messageId":"127","endLine":16,"endColumn":9},{"ruleId":"124","severity":1,"message":"136","line":18,"column":3,"nodeType":"126","messageId":"127","endLine":18,"endColumn":10},{"ruleId":"124","severity":1,"message":"137","line":19,"column":3,"nodeType":"126","messageId":"127","endLine":19,"endColumn":11},{"ruleId":"150","severity":1,"message":"151","line":9,"column":2,"nodeType":"152","messageId":"153","endLine":11,"endColumn":3},{"ruleId":"154","severity":1,"message":"155","line":14,"column":138,"nodeType":"156","messageId":"157","endLine":14,"endColumn":139,"fix":"158"},{"ruleId":"129","severity":1,"message":"130","line":42,"column":17,"nodeType":"131","endLine":42,"endColumn":75},{"ruleId":"138","severity":1,"message":"139","line":50,"column":48,"nodeType":"131","endLine":50,"endColumn":104},{"ruleId":"124","severity":1,"message":"132","line":10,"column":3,"nodeType":"126","messageId":"127","endLine":10,"endColumn":7},{"ruleId":"124","severity":1,"message":"133","line":11,"column":3,"nodeType":"126","messageId":"127","endLine":11,"endColumn":7},{"ruleId":"124","severity":1,"message":"134","line":12,"column":3,"nodeType":"126","messageId":"127","endLine":12,"endColumn":9},{"ruleId":"124","severity":1,"message":"135","line":13,"column":3,"nodeType":"126","messageId":"127","endLine":13,"endColumn":10},{"ruleId":"124","severity":1,"message":"136","line":14,"column":3,"nodeType":"126","messageId":"127","endLine":14,"endColumn":10},{"ruleId":"124","severity":1,"message":"137","line":15,"column":3,"nodeType":"126","messageId":"127","endLine":15,"endColumn":11},{"ruleId":"138","severity":1,"message":"139","line":133,"column":41,"nodeType":"131","endLine":133,"endColumn":44},{"ruleId":"124","severity":1,"message":"132","line":10,"column":3,"nodeType":"126","messageId":"127","endLine":10,"endColumn":7},{"ruleId":"124","severity":1,"message":"133","line":11,"column":3,"nodeType":"126","messageId":"127","endLine":11,"endColumn":7},{"ruleId":"124","severity":1,"message":"134","line":12,"column":3,"nodeType":"126","messageId":"127","endLine":12,"endColumn":9},{"ruleId":"124","severity":1,"message":"135","line":13,"column":3,"nodeType":"126","messageId":"127","endLine":13,"endColumn":10},{"ruleId":"124","severity":1,"message":"136","line":14,"column":3,"nodeType":"126","messageId":"127","endLine":14,"endColumn":10},{"ruleId":"124","severity":1,"message":"137","line":15,"column":3,"nodeType":"126","messageId":"127","endLine":15,"endColumn":11},{"ruleId":"138","severity":1,"message":"139","line":115,"column":41,"nodeType":"131","endLine":115,"endColumn":44},"no-native-reassign",["159"],"no-negated-in-lhs",["160"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'axios' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'Form' is defined but never used.","'Grid' is defined but never used.","'Header' is defined but never used.","'Message' is defined but never used.","'Segment' is defined but never used.","'Checkbox' is defined but never used.","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","'buy' is defined but never used.","'sell' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You don’t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","'Button' is defined but never used.","'put' is defined but never used.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","dot-location","Expected dot to be on same line as property.","MemberExpression","expectedDotBeforeProperty",{"range":"161","text":"162"},"no-global-assign","no-unsafe-negation",[388,392],"\n\t\t."]